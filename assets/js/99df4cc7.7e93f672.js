"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[85152],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>d});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),m=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=m(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),u=m(a),d=r,f=u["".concat(l,".").concat(d)]||u[d]||p[d]||s;return a?n.createElement(f,o(o({ref:t},c),{},{components:a})):n.createElement(f,o({ref:t},c))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,o=new Array(s);o[0]=u;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var m=2;m<s;m++)o[m]=a[m];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},28246:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>m});var n=a(87462),r=(a(67294),a(3905));const s={sidebar_position:1,title:"Streams"},o=void 0,i={unversionedId:"streams/index",id:"streams/index",title:"Streams",description:"Streams are flows of data in GDN to capture data in motion. Messages are sent via streams by publishers to consumers who then do something with the message. Streams can be created with client SDKs, REST APIs, CLI commands, or the web console.",source:"@site/docs/streams/index.md",sourceDirName:"streams",slug:"/streams/",permalink:"/docs/streams/",draft:!1,editUrl:"https://github.com/macrometacorp/docs/edit/main/docs/streams/index.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Streams"},sidebar:"defaultSidebar",previous:{title:"Type and Value Order",permalink:"/docs/queryworkers/c8ql/type-and-value-order"},next:{title:"Getting Started with Streams",permalink:"/docs/streams/getting-started-streams"}},l={},m=[{value:"Streams Workflow",id:"streams-workflow",level:2},{value:"Benefits",id:"benefits",level:2},{value:"Stream Names",id:"stream-names",level:2},{value:"Streams and GeoFabrics",id:"streams-and-geofabrics",level:2}],c={toc:m};function p(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Streams are flows of data in GDN to capture data in motion. Messages are sent via streams by publishers to consumers who then do something with the message. Streams can be created with client SDKs, REST APIs, CLI commands, or the web console."),(0,r.kt)("h2",{id:"streams-workflow"},"Streams Workflow"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"producer --\x3e stream --\x3e subscription --\x3e consumer")),(0,r.kt)("p",null,"A stream is a named channel for sending messages. Each stream is backed by a distributed append-only log and can be local (at one edge location only) or global (across all edge locations in the fabric)."),(0,r.kt)("p",null,"Messages from publishers are only stored once on a stream, and can be consumed as many times as necessary by consumers. The stream is the source of truth for consumption. Although messages are only stored once on the stream, there can be different ways of consuming these messages."),(0,r.kt)("p",null,"Consumers are grouped together for consuming messages. Each group of consumers is a subscription on a stream. Each consumer group can have its own way of consuming the messages: exclusively, shared, or failover."),(0,r.kt)("p",null,"Streams in GDN is built on the ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern"},"publish-subscribe")," pattern, aka pub-sub. In this pattern, producers publish messages to streams. Consumers can then subscribe to those streams, process incoming messages, and send an acknowledgement when processing is complete."),(0,r.kt)("p",null,"Once a subscription has been created, GDN streams retain all messages even if the consumer disconnects from the server. Retained messages are only discarded when a consumer acknowledges that they've been successfully processed."),(0,r.kt)("h2",{id:"benefits"},"Benefits"),(0,r.kt)("p",null,"Streams provide:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Seamless geo-replication of messages across regions"),(0,r.kt)("li",{parentName:"ul"},"Very low publish and end-to-end latency"),(0,r.kt)("li",{parentName:"ul"},"Seamless scalability to over a million topics"),(0,r.kt)("li",{parentName:"ul"},"Multiple subscription modes (",(0,r.kt)("inlineCode",{parentName:"li"},"exclusive"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"shared"),", and ",(0,r.kt)("inlineCode",{parentName:"li"},"failover"),") for streams"),(0,r.kt)("li",{parentName:"ul"},"Guaranteed message delivery with persistent message storage")),(0,r.kt)("h2",{id:"stream-names"},"Stream Names"),(0,r.kt)("p",null,"As in other pub-sub systems, streams in GDN are named channels for transmitting messages from producers to consumers. Stream names are URLs that have a well-defined structure:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-http"},"persistent://tenant/geofabric/stream-name\n")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Stream name component"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"persistent")),(0,r.kt)("td",{parentName:"tr",align:null},"This identifies the type of stream. GDN currently supports only persistent streams. With persistent streams, all messages are durably persisted on disk (that means on multiple disks).")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"tenant")),(0,r.kt)("td",{parentName:"tr",align:null},"The stream tenant within the instance. Tenants are essential to multi-tenancy in GDN")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"geofabric")),(0,r.kt)("td",{parentName:"tr",align:null},"The administrative unit of the stream, which acts as a grouping and geo-fencing mechanism for related streams. Stream configuration is performed at the geofabric level. Each tenant can have multiple geofabrics.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"stream-name")),(0,r.kt)("td",{parentName:"tr",align:null},"The final part of the name. Stream names are freeform.")))),(0,r.kt)("h2",{id:"streams-and-geofabrics"},"Streams and GeoFabrics"),(0,r.kt)("p",null,"A GeoFabric is a geo-fenced grouping within a tenant. A tenant can create multiple GeoFabrics. For more information about GeoFabrics, refer to ",(0,r.kt)("a",{parentName:"p",href:"/docs/geofabrics/"},"GeoFabrics"),"."),(0,r.kt)("p",null,"For example, a tenant with different applications can create a separate geofabric for each application. A geofabric allows the application to create and manage a hierarchy of streams. The stream ",(0,r.kt)("inlineCode",{parentName:"p"},"my-tenant/app1")," is a geofabric for the application ",(0,r.kt)("inlineCode",{parentName:"p"},"app1")," for ",(0,r.kt)("inlineCode",{parentName:"p"},"my-tenant"),". You can create any number of ",(0,r.kt)("inlineCode",{parentName:"p"},"streams")," under the geofabric."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Every collection within a geofabric is also a stream with the same name.")))}p.isMDXComponent=!0}}]);