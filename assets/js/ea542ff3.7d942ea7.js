"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[82223],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>m});var i=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=i.createContext({}),c=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=c(e.components);return i.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=c(n),m=r,h=p["".concat(s,".").concat(m)]||p[m]||u[m]||o;return n?i.createElement(h,a(a({ref:t},d),{},{components:n})):i.createElement(h,a({ref:t},d))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,a=new Array(o);a[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,a[1]=l;for(var c=2;c<o;c++)a[c]=n[c];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}p.displayName="MDXCreateElement"},87639:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var i=n(87462),r=(n(67294),n(3905));const o={sidebar_position:10,title:"Using Indexes"},a=void 0,l={unversionedId:"collections/indexing/index-utilization",id:"collections/indexing/index-utilization",title:"Using Indexes",description:"In most cases GDN will use a single index per collection in a given query. C8QL queries can use more than one index per collection when multiple FILTER conditions are combined with a logical OR and these can be covered by indexes. C8QL queries will use a single index per collection when FILTER conditions are combined with logical AND.",source:"@site/docs/collections/indexing/index-utilization.md",sourceDirName:"collections/indexing",slug:"/collections/indexing/index-utilization",permalink:"/docs/collections/indexing/index-utilization",draft:!1,editUrl:"https://github.com/macrometacorp/docs/edit/main/docs/collections/indexing/index-utilization.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10,title:"Using Indexes"},sidebar:"defaultSidebar",previous:{title:"Indexing",permalink:"/docs/collections/indexing/"},next:{title:"Which Index",permalink:"/docs/collections/indexing/which-index"}},s={},c=[],d={toc:c};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,i.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"In most cases GDN will use a single index per collection in a given query. C8QL queries can use more than one index per collection when multiple FILTER conditions are combined with a logical ",(0,r.kt)("inlineCode",{parentName:"p"},"OR")," and these can be covered by indexes. C8QL queries will use a single index per collection when FILTER conditions are combined with logical ",(0,r.kt)("inlineCode",{parentName:"p"},"AND"),"."),(0,r.kt)("p",null,"Creating multiple indexes on different attributes of the same collection may give the query optimizer more choices when picking an index. Creating multiple indexes on different attributes can also help in speeding up different queries, with FILTER conditions on different attributes."),(0,r.kt)("p",null,"It is often beneficial to create an index on more than just one attribute. By adding more attributes to an index, an index can become more selective and thus reduce the number of documents that queries need to process."),(0,r.kt)("p",null,"GDN's primary indexes, edges indexes and hash indexes will automatically provide selectivity estimates. Index selectivity estimates are provided in the web interface, the ",(0,r.kt)("inlineCode",{parentName:"p"},"getIndexes()")," return value and in the ",(0,r.kt)("inlineCode",{parentName:"p"},"explain()")," output for a given query. "),(0,r.kt)("p",null,"The more selective an index is, the more documents it will filter on average. The index selectivity estimates are therefore used by the optimizer when creating query execution plans when there are multiple indexes the optimizer can choose from. The optimizer will then select a combination of indexes with the lowest estimated total cost. In general, the optimizer will pick the indexes with the highest estimated selectivity."),(0,r.kt)("p",null,"Sparse indexes may or may not be picked by the optimizer in a query. As sparse indexes do not contain ",(0,r.kt)("inlineCode",{parentName:"p"},"null")," values, they will not be used for queries if the optimizer cannot safely determine whether a FILTER condition includes ",(0,r.kt)("inlineCode",{parentName:"p"},"null")," values for the index attributes. The optimizer policy is to produce correct results, regardless of whether or which index is used to satisfy FILTER conditions. If it is unsure about whether using an index will violate the policy, it will not make use of the index."))}u.isMDXComponent=!0}}]);