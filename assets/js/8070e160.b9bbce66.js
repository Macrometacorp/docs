"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[12651],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>m});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),c=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(a),m=n,k=u["".concat(s,".").concat(m)]||u[m]||d[m]||o;return a?r.createElement(k,i(i({ref:t},p),{},{components:a})):r.createElement(k,i({ref:t},p))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var c=2;c<o;c++)i[c]=a[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},62257:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var r=a(87462),n=(a(67294),a(3905));const o={sidebar_position:10,title:"Quickstart"},i=void 0,l={unversionedId:"quickstart",id:"quickstart",title:"Quickstart",description:"Macrometa Global Data Network (GDN) is a geo-distributed, real-time, coordination-free materialized views engine. GDN supports multiple data models, making it flexible and compatible with many database types.",source:"@site/docs/quickstart.md",sourceDirName:".",slug:"/quickstart",permalink:"/docs/quickstart",draft:!1,editUrl:"https://github.com/macrometacorp/docs/edit/main/docs/quickstart.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10,title:"Quickstart"},sidebar:"defaultSidebar",next:{title:"Release Notes",permalink:"/docs/release-notes/"}},s={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Create a collection",id:"step-1-create-a-collection",level:2},{value:"Step 2: Add data to your new collection with a query",id:"step-2-add-data-to-your-new-collection-with-a-query",level:2},{value:"Step 3: View the documents in the collection",id:"step-3-view-the-documents-in-the-collection",level:2},{value:"Step 4: Query the documents in the collection",id:"step-4-query-the-documents-in-the-collection",level:2},{value:"Step 5: Save the query as an API endpoint",id:"step-5-save-the-query-as-an-api-endpoint",level:2},{value:"Step 6: Finish the API",id:"step-6-finish-the-api",level:2},{value:"Create a new record",id:"create-a-new-record",level:3},{value:"Update a record",id:"update-a-record",level:3},{value:"Delete a record",id:"delete-a-record",level:3},{value:"Next Up: Add Search to your app",id:"next-up-add-search-to-your-app",level:2}],p={toc:c};function d(e){let{components:t,...o}=e;return(0,n.kt)("wrapper",(0,r.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Macrometa Global Data Network (GDN) is a geo-distributed, real-time, coordination-free materialized views engine. GDN supports multiple data models, making it flexible and compatible with many database types."),(0,n.kt)("p",null,'Get started with Macrometa by creating a simple address book. This tutorial is Macrometa\'s version of "Hello, world!" It is simplistic by design and demonstrates how you can quickly use our stateful serverless back-end to run a globally distributed database with local read-write latencies around 50ms.'),(0,n.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"A ",(0,n.kt)("a",{parentName:"li",href:"https://auth-play.macrometa.io/"},"Macrometa account")," with sufficient permissions to create collections.")),(0,n.kt)("h2",{id:"step-1-create-a-collection"},"Step 1: Create a collection"),(0,n.kt)("p",null,"A ",(0,n.kt)("em",{parentName:"p"},"collection")," is a group of documents with a unique name and identifier. For the address book, you will create a document collection that contains names and addresses."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"On the side menu, click ",(0,n.kt)("strong",{parentName:"li"},"Data > Collections"),"."),(0,n.kt)("li",{parentName:"ol"},"Click ",(0,n.kt)("strong",{parentName:"li"},"New Collection"),"."),(0,n.kt)("li",{parentName:"ol"},"Click ",(0,n.kt)("strong",{parentName:"li"},"Document Store"),"."),(0,n.kt)("li",{parentName:"ol"},"In ",(0,n.kt)("strong",{parentName:"li"},"Collection Name"),", enter ",(0,n.kt)("inlineCode",{parentName:"li"},"addresses"),"."),(0,n.kt)("li",{parentName:"ol"},"Click ",(0,n.kt)("strong",{parentName:"li"},"Create"),".")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Create a collection",src:a(9121).Z,width:"1548",height:"513"})),(0,n.kt)("p",null,"Macrometa distributes this collection to every location in the global fabrics. If you're curious about the locations, click ",(0,n.kt)("strong",{parentName:"p"},"Dashboard")," to see the default ",(0,n.kt)("a",{parentName:"p",href:"/docs/geofabrics/"},"GeoFabric")," locations."),(0,n.kt)("p",null,"Our collection is now accessible worldwide! However, it's empty. Let's fix that."),(0,n.kt)("h2",{id:"step-2-add-data-to-your-new-collection-with-a-query"},"Step 2: Add data to your new collection with a query"),(0,n.kt)("p",null,"There are several ways to add data to a collection, including importing CSV or JSON files. For this quickstart, we'll use a query to insert records."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"On the side menu, click ",(0,n.kt)("strong",{parentName:"p"},"Compute > Query Workers"),".")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"The code block below contains six names and email addresses. Copy and paste it in the code editor on line 1."),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},'// Query to insert addresses\nFOR persons IN [ \n  { firstName: "Captain", lastName: "Nemo", email: "cpnemo@gnautilus.com" },\n  { firstName: "Pierre", lastName: "Aronnax", email: "pierre@asoc.org" },\n  { firstName: "Ned", lastName: "Land", email: "ned@nature.org" },\n  { firstName: "Cyrus", lastName: "Smith", email: "cycy@laborrights.org" },\n  { firstName: "Tom", lastName: "Ayrton", email: "tommy@water.org" },\n  { firstName: "Jules", lastName: "Verne", email: "j.garcia@en-julesverne.nantesmetropole.fr" } \n  ]\n  INSERT persons INTO addresses\n'))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Click ",(0,n.kt)("strong",{parentName:"p"},"Run Query"),". This inserts the records into the ",(0,n.kt)("inlineCode",{parentName:"p"},"addresses")," collection you made earlier and returns a query result. The result will be empty brackets because we're inserting data, not reading anything back.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"(Optional) Click ",(0,n.kt)("strong",{parentName:"p"},"Query Info")," in the Query Result to see what the query did and how long each step took. Pretty cool if you're into performance metrics.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Click ",(0,n.kt)("strong",{parentName:"p"},"Run Query")," two more times. Every click adds the six records again so the collection has more records to work with. You can keep clicking if you want more records or change values in the code block if you want different records."))),(0,n.kt)("h2",{id:"step-3-view-the-documents-in-the-collection"},"Step 3: View the documents in the collection"),(0,n.kt)("p",null,"Return to the collection and see what the query did."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"click ",(0,n.kt)("strong",{parentName:"li"},"Data > Collections"),"."),(0,n.kt)("li",{parentName:"ol"},"Click ",(0,n.kt)("strong",{parentName:"li"},"addresses"),".")),(0,n.kt)("p",null,"Macrometa displays a list of keys and content for each record in the collection. Now you can:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Click a record to view it. While viewing a record, edit it by typing changes and then click ",(0,n.kt)("strong",{parentName:"li"},"Save"),"."),(0,n.kt)("li",{parentName:"ul"},"Click the red circle next to a record to delete it."),(0,n.kt)("li",{parentName:"ul"},"Click the funnel at the top to filter records. Try entering the following (case-sensitive):",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Attribute name:")," firstname"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"Attribute value:")," Captain")))),(0,n.kt)("p",null,"When you are done experimenting with records, continue to the next step."),(0,n.kt)("h2",{id:"step-4-query-the-documents-in-the-collection"},"Step 4: Query the documents in the collection"),(0,n.kt)("p",null,"Now, let's query the data you just added to your collection."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Click ",(0,n.kt)("strong",{parentName:"p"},"Compute > Query Workers"),".")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Click ",(0,n.kt)("strong",{parentName:"p"},"New Query")," to clear the code editor.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Copy the code block below and paste it into the code editor."),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"FOR docs IN addresses RETURN docs \n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Click ",(0,n.kt)("strong",{parentName:"p"},"Run Query"),"."))),(0,n.kt)("p",null,"Macrometa returns all records in the collection. You can view it as a ",(0,n.kt)("strong",{parentName:"p"},"Table")," or ",(0,n.kt)("strong",{parentName:"p"},"JSON"),". You can also click ",(0,n.kt)("strong",{parentName:"p"},"Query Info")," to see detailed performance metrics."),(0,n.kt)("h2",{id:"step-5-save-the-query-as-an-api-endpoint"},"Step 5: Save the query as an API endpoint"),(0,n.kt)("p",null,"Macrometa allows you to save a query as a ",(0,n.kt)("a",{parentName:"p",href:"/docs/queryworkers/"},"Query Worker"),"."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Click ",(0,n.kt)("strong",{parentName:"li"},"Save Query"),"."),(0,n.kt)("li",{parentName:"ol"},"Name the query ",(0,n.kt)("strong",{parentName:"li"},"getAddresses")," and click ",(0,n.kt)("strong",{parentName:"li"},"Save"),". This saves the query so you can use it again."),(0,n.kt)("li",{parentName:"ol"},"Click ",(0,n.kt)("strong",{parentName:"li"},"Run Query"),"."),(0,n.kt)("li",{parentName:"ol"},"Click ",(0,n.kt)("strong",{parentName:"li"},"API Endpoint"),".")),(0,n.kt)("p",null,"Macrometa displays a ",(0,n.kt)("inlineCode",{parentName:"p"},"curl")," command you can use to access this endpoint from anywhere in the world in under 50ms."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Create a Query Worker",src:a(89517).Z,width:"1282",height:"260"})),(0,n.kt)("h2",{id:"step-6-finish-the-api"},"Step 6: Finish the API"),(0,n.kt)("p",null,"In the previous step, you created the ",(0,n.kt)("inlineCode",{parentName:"p"},"getAddresses")," Query Worker, which is basically the READ in a CRUD API (Create, Read, Update, Delete). Build the rest of the API by creating a Query Worker for each of the following queries."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"In ",(0,n.kt)("strong",{parentName:"li"},"Query Workers"),", click ",(0,n.kt)("strong",{parentName:"li"},"New Query"),"."),(0,n.kt)("li",{parentName:"ol"},"Copy and paste a code block."),(0,n.kt)("li",{parentName:"ol"},"Save the query using the name with each code block."),(0,n.kt)("li",{parentName:"ol"},"Click ",(0,n.kt)("strong",{parentName:"li"},"API Endpoint")," and record the API Usage information."),(0,n.kt)("li",{parentName:"ol"},"Test the query.")),(0,n.kt)("p",null,"To test a query, enter any necessary information in the ",(0,n.kt)("a",{parentName:"p",href:"/docs/queryworkers/bind-parameters"},"bind parameters")," and click ",(0,n.kt)("strong",{parentName:"p"},"Run Query")," or use the ",(0,n.kt)("inlineCode",{parentName:"p"},"curl")," API call. The screenshot below shows how to enter information for testing."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Test a query",src:a(3583).Z,width:"825",height:"553"})),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"If a query requires a key, you must enter one in the bind parameters or else the query will fail with an error.")),(0,n.kt)("h3",{id:"create-a-new-record"},"Create a new record"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Name:")," saveContact"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT {firstname:@firstName,\n        lastname:@lastName,\n        email:@email} \nINTO addresses\n")),(0,n.kt)("h3",{id:"update-a-record"},"Update a record"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Name:")," updateContact"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"UPDATE @_key WITH { firstname:@firstName, \n                    lastname:@lastName, \n                    email:@email} \nIN addresses\n")),(0,n.kt)("h3",{id:"delete-a-record"},"Delete a record"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Name:")," removeContact"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"REMOVE @_key \nIN addresses\n")),(0,n.kt)("p",null,"You have a full functional API for your application. ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/Macrometacorp/tutorial-addressbook-streams"},"We made a front-end for you to take your new back-end for a spin"),"."),(0,n.kt)("h2",{id:"next-up-add-search-to-your-app"},"Next Up: ",(0,n.kt)("a",{parentName:"h2",href:"https://macrometa.com/docs/search/getting-started"},"Add Search to your app")))}d.isMDXComponent=!0},9121:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/create-doc-view-e752420b48ca683bed95125625889de6.png"},89517:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/create-query-worker-45daf9cbca468f4ffafbb0b0b2cac285.png"},3583:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/test-query-51cfd0991cbf21e77559698920cf7ccd.png"}}]);