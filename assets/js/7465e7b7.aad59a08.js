"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[51463],{3905:(e,t,r)=>{r.d(t,{Zo:()=>m,kt:()=>p});var s=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r,s,n={},a=Object.keys(e);for(s=0;s<a.length;s++)r=a[s],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var c=s.createContext({}),l=function(e){var t=s.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},m=function(e){var t=l(e.components);return s.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},d=s.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,c=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),d=l(r),p=n,b=d["".concat(c,".").concat(p)]||d[p]||u[p]||a;return r?s.createElement(b,i(i({ref:t},m),{},{components:r})):s.createElement(b,i({ref:t},m))}));function p(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,i=new Array(a);i[0]=d;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:n,i[1]=o;for(var l=2;l<a;l++)i[l]=r[l];return s.createElement.apply(null,i)}return s.createElement.apply(null,r)}d.displayName="MDXCreateElement"},32494:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>l});var s=r(87462),n=(r(67294),r(3905));const a={sidebar_position:35,title:"Consumers"},i=void 0,o={unversionedId:"streams/stream-basics/consumers",id:"streams/stream-basics/consumers",title:"Consumers",description:"A consumer is an application that subscribes to a stream and then receives messages published by producers.",source:"@site/docs/streams/stream-basics/consumers.md",sourceDirName:"streams/stream-basics",slug:"/streams/stream-basics/consumers",permalink:"/docs/streams/stream-basics/consumers",draft:!1,editUrl:"https://github.com/macrometacorp/docs/edit/main/docs/streams/stream-basics/consumers.md",tags:[],version:"current",sidebarPosition:35,frontMatter:{sidebar_position:35,title:"Consumers"},sidebar:"defaultSidebar",previous:{title:"Producers",permalink:"/docs/streams/stream-basics/producers"},next:{title:"Subscriptions",permalink:"/docs/streams/stream-basics/subscriptions"}},c={},l=[{value:"Receive Modes",id:"receive-modes",level:2},{value:"Acknowledgement (ack)",id:"acknowledgement-ack",level:2},{value:"Readers",id:"readers",level:2},{value:"Listeners",id:"listeners",level:2},{value:"Cursor",id:"cursor",level:2}],m={toc:l};function u(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,s.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"A ",(0,n.kt)("em",{parentName:"p"},"consumer")," is an application that subscribes to a stream and then receives messages published by ",(0,n.kt)("a",{parentName:"p",href:"/docs/streams/stream-basics/producers"},"producers"),"."),(0,n.kt)("h2",{id:"receive-modes"},"Receive Modes"),(0,n.kt)("p",null,"Messages can be received from streams either synchronously (sync) or asynchronously (async)."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Mode"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Sync receive"),(0,n.kt)("td",{parentName:"tr",align:null},"A sync receive will be blocked until a message is available.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Async receive"),(0,n.kt)("td",{parentName:"tr",align:null},"An async receive will return immediately with a future value")))),(0,n.kt)("h2",{id:"acknowledgement-ack"},"Acknowledgement (ack)"),(0,n.kt)("p",null,"When a consumer has successfully processed a message, it needs to send an acknowledgement to the Global Data Network (GDN) so that the GDN can discard the message. If no acknowledgement is received, then the GDN stores the message based on ",(0,n.kt)("a",{parentName:"p",href:"/docs/streams/stream-basics/messages#message-retention-and-expiry"},"retention and expiry rules"),"."),(0,n.kt)("p",null,"Messages can be acknowledged either one by one or cumulatively. With cumulative acknowledgement, the consumer only needs to acknowledge the last message it received. All messages in the stream, up to and including, the provided message will not be re-delivered to that consumer."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"Cumulative acknowledgement cannot be used with ",(0,n.kt)("a",{parentName:"p",href:"/docs/streams/stream-basics/subscriptions#shared"},"shared subscription mode"),", because shared mode involves multiple consumers having access to the same subscription.")),(0,n.kt)("h2",{id:"readers"},"Readers"),(0,n.kt)("p",null,"GDN stream readers are like stream consumers, but they have two crucial differences:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"You can specify where on a stream readers begin processing messages; consumers always begin with the latest available unacknowledged message."),(0,n.kt)("li",{parentName:"ul"},"Readers don't retain data or acknowledge messages.")),(0,n.kt)("h2",{id:"listeners"},"Listeners"),(0,n.kt)("p",null,"Client libraries can provide their own listener implementations for consumers. In this interface, the ",(0,n.kt)("inlineCode",{parentName:"p"},"received")," method is called whenever a new message is received."),(0,n.kt)("h2",{id:"cursor"},"Cursor"),(0,n.kt)("p",null,"A cursor is the subscription position for a stream consumer. You can think of it like the cursor on your page, marking where you are."))}u.isMDXComponent=!0}}]);