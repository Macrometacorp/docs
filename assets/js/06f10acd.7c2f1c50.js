"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[61739],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>d});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var o=n.createContext({}),s=function(e){var t=n.useContext(o),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=s(e.components);return n.createElement(o.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,l=e.originalType,o=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),c=s(r),d=a,g=c["".concat(o,".").concat(d)]||c[d]||m[d]||l;return r?n.createElement(g,i(i({ref:t},u),{},{components:r})):n.createElement(g,i({ref:t},u))}));function d(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=r.length,i=new Array(l);i[0]=c;var p={};for(var o in t)hasOwnProperty.call(t,o)&&(p[o]=t[o]);p.originalType=e,p.mdxType="string"==typeof e?e:a,i[1]=p;for(var s=2;s<l;s++)i[s]=r[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}c.displayName="MDXCreateElement"},78800:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>p,toc:()=>s});var n=r(87462),a=(r(67294),r(3905));const l={title:"csv (Sink Mapper)"},i=void 0,p={unversionedId:"cep/query-guide/functions/sinkmapper/csv",id:"cep/query-guide/functions/sinkmapper/csv",title:"csv (Sink Mapper)",description:"This output mapper extension allows you to convert stream worker events processed by the GDN stream processor to CSV message before publishing them. You can either use custom placeholder to map a custom CSV message or use predefined CSV format where event conversion takes place without extra configurations.",source:"@site/docs/cep/query-guide/functions/sinkmapper/csv.md",sourceDirName:"cep/query-guide/functions/sinkmapper",slug:"/cep/query-guide/functions/sinkmapper/csv",permalink:"/docs/cep/query-guide/functions/sinkmapper/csv",draft:!1,editUrl:"https://github.com/macrometacorp/docs/edit/main/docs/cep/query-guide/functions/sinkmapper/csv.md",tags:[],version:"current",frontMatter:{title:"csv (Sink Mapper)"},sidebar:"defaultSidebar",previous:{title:"binary (Sink Mapper)",permalink:"/docs/cep/query-guide/functions/sinkmapper/binary"},next:{title:"json (Sink Mapper)",permalink:"/docs/cep/query-guide/functions/sinkmapper/json"}},o={},s=[{value:"Syntax",id:"syntax",level:2},{value:"Query Parameters",id:"query-parameters",level:2},{value:"Example 1",id:"example-1",level:2},{value:"Example 2",id:"example-2",level:2}],u={toc:s};function m(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This output mapper extension allows you to convert stream worker events processed by the GDN stream processor to CSV message before publishing them. You can either use custom placeholder to map a custom CSV message or use predefined CSV format where event conversion takes place without extra configurations."),(0,a.kt)("h2",{id:"syntax"},"Syntax"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'CREATE SINK <NAME> WITH (map.type="csv", map.delimiter="<STRING>", map.header="<BOOL>", map.event.grouping.enabled="<BOOL>")\n')),(0,a.kt)("h2",{id:"query-parameters"},"Query Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Name"),(0,a.kt)("th",{parentName:"tr",align:null},"Description"),(0,a.kt)("th",{parentName:"tr",align:null},"Default Value"),(0,a.kt)("th",{parentName:"tr",align:null},"Possible Data Types"),(0,a.kt)("th",{parentName:"tr",align:null},"Optional"),(0,a.kt)("th",{parentName:"tr",align:null},"Dynamic"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"delimiter"),(0,a.kt)("td",{parentName:"tr",align:null},"This parameter used to separate the output CSV data, when converting a Stream App event to CSV format,"),(0,a.kt)("td",{parentName:"tr",align:null},","),(0,a.kt)("td",{parentName:"tr",align:null},"STRING"),(0,a.kt)("td",{parentName:"tr",align:null},"Yes"),(0,a.kt)("td",{parentName:"tr",align:null},"No")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"header"),(0,a.kt)("td",{parentName:"tr",align:null},"This parameter specifies whether the CSV messages will be generated with header or not. If this parameter is set to true, message will be generated with header"),(0,a.kt)("td",{parentName:"tr",align:null},"false"),(0,a.kt)("td",{parentName:"tr",align:null},"BOOL"),(0,a.kt)("td",{parentName:"tr",align:null},"Yes"),(0,a.kt)("td",{parentName:"tr",align:null},"No")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"event.grouping.enabled"),(0,a.kt)("td",{parentName:"tr",align:null},"If this parameter is set to ",(0,a.kt)("inlineCode",{parentName:"td"},"true"),", events are grouped via a line.separator when multiple events are received. It is required to specify a value for the System.lineSeparator() when the value for this parameter is ",(0,a.kt)("inlineCode",{parentName:"td"},"true"),"."),(0,a.kt)("td",{parentName:"tr",align:null},"false"),(0,a.kt)("td",{parentName:"tr",align:null},"BOOL"),(0,a.kt)("td",{parentName:"tr",align:null},"Yes"),(0,a.kt)("td",{parentName:"tr",align:null},"No")))),(0,a.kt)("h2",{id:"example-1"},"Example 1"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"CREATE SINK BarStream WITH (type='stream', topic='{{symbol}}', map.type='csv') (symbol string, price float, volume long);\n")),(0,a.kt)("p",null,"Above configuration will perform a default CSV output mapping, which will generate output: ",(0,a.kt)("inlineCode",{parentName:"p"},"symbol-price-volumegdn-55.6-100")),(0,a.kt)("p",null,"If header is ",(0,a.kt)("inlineCode",{parentName:"p"},"true"),' and delimiter is "-", then the output will be: ',(0,a.kt)("inlineCode",{parentName:"p"},"symbol-price-volume")),(0,a.kt)("h2",{id:"example-2"},"Example 2"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"CREATE SINK BarStream WITH (type='stream', topic='{{symbol}}', map.type='csv', map.header='true', map.delimiter='-', map.payload=\"symbol='0',price='2',volume='1'\") (symbol string, price float,volume long);\n")),(0,a.kt)("p",null,"Above configuration will perform a custom CSV mapping. Here, user can add custom place order in the @payload. The place order indicates that where the attribute name's value will be appear in the output message, the output will be produce output as follows: ",(0,a.kt)("inlineCode",{parentName:"p"},"gdn,100,55.6"),"."),(0,a.kt)("p",null,'If header is true and delimiter is "-", then the output will be: ',(0,a.kt)("inlineCode",{parentName:"p"},"price-volume-symbol 55.6-100-gdn")," "),(0,a.kt)("p",null,"If event grouping is enabled, then the output is: ",(0,a.kt)("inlineCode",{parentName:"p"},"price-volume-symbol 55.6-100-gdnSystem.lineSeparator() 55.6-100-IBMSystem.lineSeparator() 55.6-100-IFSSystem.lineSeparator()")))}m.isMDXComponent=!0}}]);