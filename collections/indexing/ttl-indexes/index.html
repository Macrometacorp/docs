<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-collections/indexing/ttl-indexes">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">TTL Indexes | Macrometa</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://macrometa.com/docs/img/macrometa-preview-dark.png"><meta data-rh="true" name="twitter:image" content="https://macrometa.com/docs/img/macrometa-preview-dark.png"><meta data-rh="true" property="og:url" content="https://macrometa.com/docs/collections/indexing/ttl-indexes"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="og:title" content="Macrometa Docs"><meta data-rh="true" name="og:description" content="Powering the next generation of apps and APIs. Store, process, and serve data within milliseconds of everyone on the planet."><meta data-rh="true" name="og:url" content="https://macrometa.com/docs/"><meta data-rh="true" name="og:image" content="https://macrometa.com/img/macrometa-preview-dark.png"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="TTL Indexes | Macrometa"><meta data-rh="true" name="description" content="The TTL index type provided by GDN can be used to automatically removing expired documents from a collection."><meta data-rh="true" property="og:description" content="The TTL index type provided by GDN can be used to automatically removing expired documents from a collection."><link data-rh="true" rel="icon" href="/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://macrometa.com/docs/collections/indexing/ttl-indexes"><link data-rh="true" rel="alternate" href="https://macrometa.com/docs/collections/indexing/ttl-indexes" hreflang="en"><link data-rh="true" rel="alternate" href="https://macrometa.com/docs/collections/indexing/ttl-indexes" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://GHXKYI4VEC-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-T68NNDC"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-T68NNDC",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Macrometa" href="/docs/opensearch.xml">


<link rel="preconnect" href="https://posthog.prod.macrometa.io">
<script>!function(t,o){var e,p,n,i;o.__SV||(window.posthog=o,o._i=[],o.init=function(r,s,a){function c(t,o){var e=o.split(".");2==e.length&&(t=t[e[0]],o=e[1]),t[o]=function(){t.push([o].concat(Array.prototype.slice.call(arguments,0)))}}(n=t.createElement("script")).type="text/javascript",n.async=!0,n.src=s.api_host+"/static/array.js",(i=t.getElementsByTagName("script")[0]).parentNode.insertBefore(n,i);var g=o;for(void 0!==a?g=o[a]=[]:a="posthog",g.people=g.people||[],g.toString=function(t){var o="posthog";return"posthog"!==a&&(o+="."+a),t||(o+=" (stub)"),o},g.people.toString=function(){return g.toString(1)+".people (stub)"},e="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset".split(" "),p=0;p<e.length;p++)c(g,e[p]);o._i.push([r,s,a])},o.__SV=1)}(document,window.posthog||[]),posthog.init("phc_9S9df0RqQSuCLsW1CPln4f5XtZDUFwnp4abg1N2EHxb",{api_host:"https://posthog.prod.macrometa.io"})</script><link rel="stylesheet" href="/docs/assets/css/styles.95d0435b.css">
<link rel="preload" href="/docs/assets/js/runtime~main.ba2405bf.js" as="script">
<link rel="preload" href="/docs/assets/js/main.55f2bcd5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://macrometa.com" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/docs/img/macrometa-logo.svg" alt="Macrometa Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/img/macrometa-logo-dark.svg" alt="Macrometa Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/quickstart">Docs</a><a class="navbar__item navbar__link" href="/docs/api">API Reference</a><a href="https://support.macrometa.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__item--external">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://auth-play.macrometa.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__item--external">Log in<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/macrometacorp/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__item--external">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://join.slack.com/t/macrometa/shared_invite/zt-1j4f06xwm-5Y~yGQz8CVImOowdc80s1A" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__item--external">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://twitter.com/macrometa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__item--external">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quickstart">Quickstart</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/release-notes/">Release Notes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Release Notes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/sdks/">SDKs</a><button aria-label="Toggle the collapsible sidebar category &#x27;SDKs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/api-docs/">APIs</a><button aria-label="Toggle the collapsible sidebar category &#x27;APIs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/cli/">Command Line Interface</a><button aria-label="Toggle the collapsible sidebar category &#x27;Command Line Interface&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/account-management/">Account Management</a><button aria-label="Toggle the collapsible sidebar category &#x27;Account Management&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/geofabrics/">GeoFabrics</a><button aria-label="Toggle the collapsible sidebar category &#x27;GeoFabrics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/collections/">Collections</a><button aria-label="Toggle the collapsible sidebar category &#x27;Collections&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collections/view-collections">View Collections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collections/truncate-collection">Truncate Collections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collections/delete-collection">Delete Collections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collections/returning-collection-data">Retrieving Data</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collections/documents/">Document Store</a><button aria-label="Toggle the collapsible sidebar category &#x27;Document Store&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collections/keyvalue/">Key-Value Store</a><button aria-label="Toggle the collapsible sidebar category &#x27;Key-Value Store&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collections/redis-mode/">Redis Mode</a><button aria-label="Toggle the collapsible sidebar category &#x27;Redis Mode&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/collections/dynamo/create-dynamo-table">Dynamo Table</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/collections/graph-edge/">Graph Edge</a><button aria-label="Toggle the collapsible sidebar category &#x27;Graph Edge&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/collections/indexing/">Indexing</a><button aria-label="Toggle the collapsible sidebar category &#x27;Indexing&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collections/indexing/index-utilization">Using Indexes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collections/indexing/which-index">Which Index</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collections/indexing/working-with-indexes">Working with Indexes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collections/indexing/fulltext-indexes">Fulltext Indexes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collections/indexing/geo-indexes">Geo-Spatial Indexes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collections/indexing/persistent-indexes">Persistent Indexes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/collections/indexing/ttl-indexes">TTL Indexes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collections/indexing/create-index-in-background">Create Index in Background</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/collections/indexing/troubleshoot-indexes">Troubleshoot Indexes</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/search/search">Search</a><button aria-label="Toggle the collapsible sidebar category &#x27;Search&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/graphs/">Graphs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Graphs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/queryworkers/">Queries and Query Workers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Queries and Query Workers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/streams/">Streams</a><button aria-label="Toggle the collapsible sidebar category &#x27;Streams&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/cep/">Stream Workers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Stream Workers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/akamai/">Akamai Edge Workers - Preview</a><button aria-label="Toggle the collapsible sidebar category &#x27;Akamai Edge Workers - Preview&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/tutorials/">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/apps">Sample Apps</a><button aria-label="Toggle the collapsible sidebar category &#x27;Sample Apps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/references/glossary">References</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item hidden"><a class="menu__link" href="/docs/data">Global Data Mesh</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item hidden"><a class="menu__link" href="/docs/development">Developer Tools</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>TTL (time-to-live) Indexes</h1><p>The TTL index type provided by GDN can be used to automatically removing expired documents from a collection.</p><p>The TTL index is set up by setting an <code>expireAfter</code> value and by selecting a single document attribute which contains a reference point in time. For each document, that reference point in time can then be specified as a numeric timestamp (Unix timestamp) or a date string in format <code>YYYY-MM-DDTHH:MM:SS</code> with an optional timezone offset.</p><p>All date strings without a timezone offset will be interpreted as UTC dates.</p><p>Documents will count as expired when wall clock time is beyond the per-document reference point in time value plus the index&#x27; <code>expireAfter</code> value added to it. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="removing-documents-at-a-fixed-period-after-creation--update">Removing documents at a fixed period after creation / update<a class="hash-link" href="#removing-documents-at-a-fixed-period-after-creation--update" title="Direct link to heading">​</a></h2><p>One use case supported by TTL indexes is to remove documents at a fixed duration after they have been created or last updated. This requires setting up the index with an attribute that contains the documents&#x27; creation or last-updated time.</p><p>Let&#x27;s assume the index attribute is set to &quot;creationDate&quot;, and the <code>expireAfter</code> attribute of the index was set to 600 seconds (10 minutes).</p><div class="language-cURL codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cURL codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X &#x27;POST&#x27; &#x27;https://api-play.paas.macrometa.io/_fabric/_system/_api/index/ttl?collection=collectionName&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> -H &#x27;Authorization: bearer &lt;token&gt;&#x27;                                                                       \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> -d &#x27;{ &quot;fields&quot;: [ &quot;type&quot; : &quot;ttl&quot;, .&quot;fields&quot;: [&quot;creationDate&quot;],  &quot;expireAfter&quot;: 600}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s further assume the following document now gets inserted into the collection:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;creationDate&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1550165973</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This document will be indexed with a reference point in time value of <code>1550165973</code>, which translates to the human-readable date/time <code>2019-02-14T17:39:33.000Z</code>. The document will expire 600 seconds afterwards, which is at timestamp <code>1550166573</code> (or <code>2019-02-14T17:49:33.000Z</code> in the human-readable version). From that point on, the document is a candidate for being removed.</p><p>The numeric date time values for the index attribute need to be specified <strong>in seconds</strong> since January 1st 1970 (Unix timestamp). To calculate the current timestamp using JavaScript in this format, use: <code>Date.now() / 1000</code>. To calculate it from an arbitrary <code>Date</code> instance, use: <code>Date.getTime() / 1000</code>. In C8QL, you also have to divide the timestamp, e.g. <code>DATE_NOW() / 1000</code>.</p><p>Alternatively, the reference points in time can be specified as a date string in format <code>YYYY-MM-DDTHH:MM:SS</code> with an optional timezone offset. All date strings without a timezone offset will be interpreted as UTC dates.</p><p>The above example document using a date string attribute value would be</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;creationDate&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2019-02-14T17:39:33.000Z&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now any data-modification access to the document could update the value in the document&#x27;s <code>creationDate</code> attribute to the current date/time, which would prolong the existence of the document and keep it from being expired and removed. </p><p>GDN will not automatically set a document&#x27;s reference point in time on initial insertion or on every subsequent modification of the document. Instead, it is the responsibility of client applications to set and update the reference points in time of documents whenever the use case requires it.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="removing-documents-at-certain-points-in-time">Removing documents at certain points in time<a class="hash-link" href="#removing-documents-at-certain-points-in-time" title="Direct link to heading">​</a></h2><p>Another use case is to specify a per-document expiration/removal point in time, and setting the <code>expireAfter</code> attribute to a low value (e.g. 0 seconds).</p><p>Let&#x27;s assume the index attribute is set to &quot;expireDate&quot;, and the <code>expireAfter</code> attribute of the index was set to 0 seconds (immediately when wall clock time reaches the value specified in <code>expireDate</code>).</p><div class="language-cURL codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cURL codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X &#x27;POST&#x27; &#x27;https://api-play.paas.macrometa.io/_fabric/_system/_api/index/ttl?collection=collectionName&#x27; \ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> -H &#x27;Authorization: bearer &lt;token&gt;&#x27;                                                                       \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> -d &#x27;{ &quot;fields&quot;: [ &quot;type&quot; : &quot;ttl&quot;, .&quot;fields&quot;: [&quot;expireDate&quot;],  &quot;expireAfter&quot;: 0}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When storing the following document in the collection, it will expire at the point in time specified in the document itself:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;expireDate&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2019-03-28T01:06:00Z&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As <code>expireAfter</code> was set to 0, the document will count as expired when wall clock time has reached the timeout.</p><p>It should be intuitive to see that the <code>expireDate</code> can be different per document. This allows mixing of documents with different expiration periods by calculating their expiration dates differently in the client application.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="format-of-datetime-values">Format of date/time values<a class="hash-link" href="#format-of-datetime-values" title="Direct link to heading">​</a></h2><p>The expiration date time values can be specified either as a numeric timestamp, containing the number of milliseconds since January 1st 1970 (rounded down to the nearest second), or as a date/time string in ISO 8601 format <code>YYYY-MM-DDTHH:MM:SS</code> with an optional timezone offset. The timezone offset can be specified as either <code>Z</code> (Zulu/UTC time) or as a deviation from UTC time in hours and minutes (i.e. <code>+HH:MM</code> or <code>-HH:MM</code>).</p><p>Valid example date string values are:</p><table><thead><tr><th>Date/time string</th><th>Local Date</th><th>Local Time</th><th>Timezone Offset</th></tr></thead><tbody><tr><td><code>&quot;2019-05-27&quot;</code></td><td>May 27th 2019</td><td>00:00:00</td><td>+00:00 (UTC time)</td></tr><tr><td><code>&quot;2019-05-27T21:20:00&quot;</code></td><td>May 27th 2019</td><td>21:20:00</td><td>+00:00 (UTC time)</td></tr><tr><td><code>&quot;2019-05-27T21:20:00Z&quot;</code></td><td>May 27th 2019</td><td>21:20:00</td><td>+00:00 (UTC time)</td></tr><tr><td><code>&quot;2019-05-27T21:20:00.123Z&quot;</code></td><td>May 27th 2019</td><td>21:20:00.123</td><td>+00:00 (UTC time)</td></tr><tr><td><code>&quot;2019-05-27T21:20:00.123+01:30&quot;</code></td><td>May 27th 2019</td><td>21:20:00.123</td><td>+01:30 offset from UTC time</td></tr><tr><td><code>&quot;2019-05-27T21:20:00.123-02:00&quot;</code></td><td>May 27th 2019</td><td>21:20:00.123</td><td>-02:00 offset from UTC time</td></tr></tbody></table><p>Using an invalid date string value in a document&#x27;s TTL index attribute will prevent the document from being inserted into the TTL index, so it will neither be expired nor removed automatically. No error is raised however.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Date string values can be programmatically validated using the AQL function <code>IS_DATESTRING</code>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="preventing-documents-from-being-removed">Preventing documents from being removed<a class="hash-link" href="#preventing-documents-from-being-removed" title="Direct link to heading">​</a></h2><p>In case the index attribute does not contain a numeric value nor a proper date string, the document will not be stored in the TTL index and thus will not become a candidate for expiration and removal. Providing either a non-numeric value or even no value for the index attribute is a supported way to keep documents from being expired and removed.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="limitations">Limitations<a class="hash-link" href="#limitations" title="Direct link to heading">​</a></h2><p>TTL indexes are designed exactly for the purpose of removing expired documents from collections. It is <strong>not recommended</strong> to rely on TTL indexes for user-land C8QL queries. This is because TTL indexes may store a transformed, always numerical version of the index attribute value internally even if it was originally passed in as a date string. As a result, you may see different values for the attribute, depending on whether it gets taken from the index or the document. TTL indexes will likely not be usable for filtering and sort operations in user-land C8QL queries.</p><blockquote><p>There can at most be one TTL index per collection.</p></blockquote><p>The actual removal of expired documents will not necessarily happen immediately when they have reached their expiration time. </p><p>Expired documents will eventually be removed by a background thread that is periodically going through all TTL indexes and removing the expired documents.</p><p>There is no guarantee when exactly the removal of expired documents will be carried out, so queries may still find and return documents that have already expired. These will eventually be removed when the background thread kicks in and has spare capacity to remove the expired documents. It is guaranteed however that only documents which are past their expiration time will actually be removed.</p><p>The frequency for invoking the background removal thread can be configured using the <code>--ttl.frequency</code> startup option. The frequency is specified in milliseconds.</p><p>In order to avoid &quot;random&quot; load spikes by the background thread suddenly kicking in and removing a lot of documents at once, the number of to-be-removed documents per thread invocation can be capped.</p><p>The total maximum number of documents to be removed per thread invocation is controlled by the startup option <code>--ttl.max-total-removes</code>. The maximum number of documents in a single collection at once can be controlled by the startup option <code>--ttl.max-collection-removes</code>.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>There are limited number of background threads for performing the removal of expired documents of all collections in all databases. If the number of databases and collections with TTL indexes is high and there are many documents to remove from these, the background thread may at least temporarily lag behind with its removal operations. It should eventually catch up in case the number of to-be-removed documents per invocation is not higher than the background thread&#x27;s configured threshold values.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-ttl-indexes">Accessing TTL Indexes<a class="hash-link" href="#accessing-ttl-indexes" title="Direct link to heading">​</a></h2><p>Ensures that a TTL index exists:</p><div class="language-cURL codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cURL codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl -X &#x27;POST&#x27; &#x27;https://api-play.paas.macrometa.io/_fabric/_system/_api/index/ttl?collection=collectionName&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> -H &#x27;Authorization: bearer &lt;token&gt;&#x27;                                                                       \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> -d &#x27;{ &quot;fields&quot;: [ &quot;type&quot; : &quot;ttl&quot;, .&quot;fields&quot;: [&quot;field&quot;],  &quot;expireAfter&quot;: 600}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Creates a TTL index on all documents using <em>field</em> as attribute path. Exactly one attribute path has to be given. The index will be sparse in all cases.</p><p>In case that the index was successfully created, an object with the index details, including the index-identifier, is returned.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-ttl-index-in-gdn-console">Create TTL Index in GDN Console<a class="hash-link" href="#create-ttl-index-in-gdn-console" title="Direct link to heading">​</a></h2><ol><li><p><a href="https://auth-play.macrometa.io/" target="_blank" rel="noopener noreferrer">Log in to your Macrometa account</a>.</p></li><li><p>Click <strong>Data &gt; Collections</strong>.</p></li><li><p>Click the collection that you want to create an index for.</p></li><li><p>Click <strong>Indexes</strong>.</p></li><li><p>In <strong>Type</strong>, select <strong>TTL Index</strong>.</p></li><li><p>Enter the following information:</p><ul><li><strong>Fields -</strong> Choose between one or two attribute paths, latitude and/or longitude, from the collection.</li><li><strong>Name -</strong> The name of the index. If left blank, then Macrometa autogenerates the name.</li><li><strong>Documents expire after (s) -</strong> A number of seconds to be added to the timestamp attribute value of each document.</li><li><strong>Create in Background -</strong> If true, will create an index in the background rather than lock the collection while the index is created. This allows for basic CRUD operations to occur while the index is created. For more information, refer to <a href="/docs/collections/indexing/create-index-in-background">Create Index in Background</a>.</li></ul></li><li><p>Click <strong>Create</strong>.</p></li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/macrometacorp/docs/edit/main/docs/collections/indexing/ttl-indexes.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/collections/indexing/persistent-indexes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Persistent Indexes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/collections/indexing/create-index-in-background"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Create Index in Background</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#removing-documents-at-a-fixed-period-after-creation--update" class="table-of-contents__link toc-highlight">Removing documents at a fixed period after creation / update</a></li><li><a href="#removing-documents-at-certain-points-in-time" class="table-of-contents__link toc-highlight">Removing documents at certain points in time</a></li><li><a href="#format-of-datetime-values" class="table-of-contents__link toc-highlight">Format of date/time values</a></li><li><a href="#preventing-documents-from-being-removed" class="table-of-contents__link toc-highlight">Preventing documents from being removed</a></li><li><a href="#limitations" class="table-of-contents__link toc-highlight">Limitations</a></li><li><a href="#accessing-ttl-indexes" class="table-of-contents__link toc-highlight">Accessing TTL Indexes</a></li><li><a href="#create-ttl-index-in-gdn-console" class="table-of-contents__link toc-highlight">Create TTL Index in GDN Console</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/quickstart">Quickstart</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/apps">Sample Apps</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/release-notes">Release Notes</a></li></ul></div><div class="col footer__col"><div class="footer__title">Developer Tools</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Macrometacorp/jsC8" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__item--external">Javascript<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/Macrometacorp/pyC8" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__item--external">Python<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.npmjs.com/package/gdnsl" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__item--external">CLI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/macrometacorp" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__item--external">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/macrometa/shared_invite/zt-1j4f06xwm-5Y~yGQz8CVImOowdc80s1A" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__item--external">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/macrometa" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__item--external">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://support.macrometa.com" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__item--external">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://status.macrometa.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__item--external">System Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2023 Macrometa • All rights reserved</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.ba2405bf.js"></script>
<script src="/docs/assets/js/main.55f2bcd5.js"></script>
</body>
</html>