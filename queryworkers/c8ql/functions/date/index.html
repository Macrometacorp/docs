<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-queryworkers/c8ql/functions/date">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Date Functions | Macrometa</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://macrometa.com/docs/img/macrometa-preview-dark.png"><meta data-rh="true" name="twitter:image" content="https://macrometa.com/docs/img/macrometa-preview-dark.png"><meta data-rh="true" property="og:url" content="https://macrometa.com/docs/queryworkers/c8ql/functions/date"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="og:title" content="Macrometa Docs"><meta data-rh="true" name="og:description" content="Powering the next generation of apps and APIs. Store, process, and serve data within milliseconds of everyone on the planet."><meta data-rh="true" name="og:url" content="https://macrometa.com/docs/"><meta data-rh="true" name="og:image" content="https://macrometa.com/img/macrometa-preview-dark.png"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Date Functions | Macrometa"><meta data-rh="true" name="description" content="C8QL offers functionality to work with dates, but it does not have a special data type for dates (neither does JSON, which is usually used as format to ship data into and out of GDN). Instead, dates in C8QL are represented by either numbers or strings."><meta data-rh="true" property="og:description" content="C8QL offers functionality to work with dates, but it does not have a special data type for dates (neither does JSON, which is usually used as format to ship data into and out of GDN). Instead, dates in C8QL are represented by either numbers or strings."><link data-rh="true" rel="icon" href="/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://macrometa.com/docs/queryworkers/c8ql/functions/date"><link data-rh="true" rel="alternate" href="https://macrometa.com/docs/queryworkers/c8ql/functions/date" hreflang="en"><link data-rh="true" rel="alternate" href="https://macrometa.com/docs/queryworkers/c8ql/functions/date" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://GHXKYI4VEC-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-T68NNDC"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-T68NNDC",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Macrometa" href="/docs/opensearch.xml">


<link rel="preconnect" href="https://posthog.prod.macrometa.io">
<script>!function(t,o){var e,p,n,i;o.__SV||(window.posthog=o,o._i=[],o.init=function(r,s,a){function c(t,o){var e=o.split(".");2==e.length&&(t=t[e[0]],o=e[1]),t[o]=function(){t.push([o].concat(Array.prototype.slice.call(arguments,0)))}}(n=t.createElement("script")).type="text/javascript",n.async=!0,n.src=s.api_host+"/static/array.js",(i=t.getElementsByTagName("script")[0]).parentNode.insertBefore(n,i);var g=o;for(void 0!==a?g=o[a]=[]:a="posthog",g.people=g.people||[],g.toString=function(t){var o="posthog";return"posthog"!==a&&(o+="."+a),t||(o+=" (stub)"),o},g.people.toString=function(){return g.toString(1)+".people (stub)"},e="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset".split(" "),p=0;p<e.length;p++)c(g,e[p]);o._i.push([r,s,a])},o.__SV=1)}(document,window.posthog||[]),posthog.init("phc_9S9df0RqQSuCLsW1CPln4f5XtZDUFwnp4abg1N2EHxb",{api_host:"https://posthog.prod.macrometa.io"})</script><link rel="stylesheet" href="/docs/assets/css/styles.95d0435b.css">
<link rel="preload" href="/docs/assets/js/runtime~main.ba2405bf.js" as="script">
<link rel="preload" href="/docs/assets/js/main.55f2bcd5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://macrometa.com" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/docs/img/macrometa-logo.svg" alt="Macrometa Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/img/macrometa-logo-dark.svg" alt="Macrometa Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/quickstart">Docs</a><a class="navbar__item navbar__link" href="/docs/api">API Reference</a><a href="https://support.macrometa.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__item--external">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://auth-play.macrometa.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__item--external">Log in<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/macrometacorp/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__item--external">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://join.slack.com/t/macrometa/shared_invite/zt-1j4f06xwm-5Y~yGQz8CVImOowdc80s1A" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__item--external">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://twitter.com/macrometa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__item--external">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quickstart">Quickstart</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/release-notes/">Release Notes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Release Notes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/sdks/">SDKs</a><button aria-label="Toggle the collapsible sidebar category &#x27;SDKs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/api-docs/">APIs</a><button aria-label="Toggle the collapsible sidebar category &#x27;APIs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/cli/">Command Line Interface</a><button aria-label="Toggle the collapsible sidebar category &#x27;Command Line Interface&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/account-management/">Account Management</a><button aria-label="Toggle the collapsible sidebar category &#x27;Account Management&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/geofabrics/">GeoFabrics</a><button aria-label="Toggle the collapsible sidebar category &#x27;GeoFabrics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/collections/">Collections</a><button aria-label="Toggle the collapsible sidebar category &#x27;Collections&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/search/search">Search</a><button aria-label="Toggle the collapsible sidebar category &#x27;Search&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/graphs/">Graphs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Graphs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/queryworkers/">Queries and Query Workers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Queries and Query Workers&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/tutorial">Query Worker Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/building-queries">Building Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/running-queries">Running Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/query-workers">Query Workers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/api-endpoints">API Endpoints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/bind-parameters">Bind Parameters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/data-access-queries">Data Access Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/data-modification-queries">Data Modification Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/projection-queries">Projection Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/query-errors">Query Errors</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/queryworkers/sql/">SQL in Macrometa</a><button aria-label="Toggle the collapsible sidebar category &#x27;SQL in Macrometa&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/queryworkers/redis/">Redis</a><button aria-label="Toggle the collapsible sidebar category &#x27;Redis&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/queryworkers/c8ql/">C8QL</a><button aria-label="Toggle the collapsible sidebar category &#x27;C8QL&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/queryworkers/c8ql/got-tutorial/">C8QL GoT Tutorial</a><button aria-label="Toggle the collapsible sidebar category &#x27;C8QL GoT Tutorial&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/coming-from-sql">Coming from SQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/operators">Operators</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/queryworkers/c8ql/examples/">Examples</a><button aria-label="Toggle the collapsible sidebar category &#x27;Examples&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/queryworkers/c8ql/operations/">Operations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Operations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/queryworkers/c8ql/functions/">Functions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Functions&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/functions/array">Array Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/functions/control-flow">Control Flow Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/functions/database">Database Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/queryworkers/c8ql/functions/date">Date Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/functions/document">Document Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/functions/fuction-calling">Calling Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/functions/fulltext">Fulltext Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/functions/geo">Geo Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/functions/hash">Hash Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/functions/numeric">Numeric Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/functions/search">Search Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/functions/string">String Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/functions/type-cast">Type Cast Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/functions/type-check">Type Check Functions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/queryworkers/c8ql/graphs/">Graphs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Graphs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/array-operators">Array Operators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/common-errors">Common Errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/c8ql-syntax">C8QL Syntax</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/data-types">Data Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/queries-null-attributes">Queries and Null Attributes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/queryworkers/c8ql/type-and-value-order">Type and Value Order</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/streams/">Streams</a><button aria-label="Toggle the collapsible sidebar category &#x27;Streams&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/cep/">Stream Workers</a><button aria-label="Toggle the collapsible sidebar category &#x27;Stream Workers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/akamai/">Akamai Edge Workers - Preview</a><button aria-label="Toggle the collapsible sidebar category &#x27;Akamai Edge Workers - Preview&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/tutorials/">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/apps">Sample Apps</a><button aria-label="Toggle the collapsible sidebar category &#x27;Sample Apps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/references/glossary">References</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item hidden"><a class="menu__link" href="/docs/data">Global Data Mesh</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item hidden"><a class="menu__link" href="/docs/development">Developer Tools</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Date Functions</h1></header><p>C8QL offers functionality to work with dates, but it does not have a special data type for dates (neither does JSON, which is usually used as format to ship data into and out of GDN). Instead, dates in C8QL are represented by either numbers or strings.</p><p>All date function operations are done in the <em>Unix time</em> system. Unix time counts all non leap seconds beginning with January 1st 1970 00:00:00.000 UTC, also know as the Unix epoch. A point in time is called timestamp. A timestamp has the same value at every point on earth. The date functions use millisecond precision for timestamps.</p><p>Time unit definitions:</p><ul><li><strong>millisecond</strong>: 1/1000 of a second</li><li><strong>second</strong>: one <a href="https://www.bipm.org/en/publications/si-brochure/second.html" target="_blank" rel="noopener noreferrer">SI second</a>{:target=&quot;_blank&quot;}</li><li><strong>minute</strong>: one minute is defined as 60 seconds</li><li><strong>hour</strong>: one hour is defined as 60 minutes</li><li><strong>day</strong>: one day is defined as 24 hours</li><li><strong>week</strong>: one week is defined as 7 days</li><li><strong>month</strong>: one month is defined as 1/12 of a year</li><li><strong>year</strong>: one year is defined as 365.2425 days</li></ul><p>All functions that require dates as arguments accept the following input values:</p><ul><li><p><strong>numeric timestamps</strong>, millisecond precision.</p><p>An example timestamp value is <code>1399472349522</code>, which translates to <code>2014-05-07T14:19:09.522Z</code>.</p><p>Valid range: <code>-62167219200000</code> .. <code>253402300799999</code> (inclusive)</p></li><li><p><strong>date time strings</strong> in <a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener noreferrer">ISO 8601</a>{:target=&quot;_blank&quot;} format:</p><ul><li><code>YYYY-MM-DDTHH:MM:SS.MMM</code></li><li><code>YYYY-MM-DD HH:MM:SS.MMM</code></li><li><code>YYYY-MM-DD</code></li></ul><p>Milliseconds (<code>.MMM</code>) are always optional. Two digits for the hours (<code>HH</code>), minutes (<code>MM</code>) and seconds (<code>SS</code>) are mandatory, i.e. zero-padding is required for the values 0 through 9 (e.g. <code>05</code> instead of <code>5</code>). Leading zeroes for the year (<code>YYYY</code>), month (<code>MM</code>) and day (<code>DD</code>) can be left out, but is discouraged.</p><p>A time offset may optionally be added at the end of the string, with the hours and minutes that need to be added or subtracted to the date time value. For example, <code>2014-05-07T14:19:09+01:00</code> can be used to specify a one hour offset, and <code>2014-05-07T14:19:09+07:30</code> can be specified for seven and half hours offset. Negative offsets are also possible. Alternatively to an offset, a <code>Z</code> can be used to indicate UTC / Zulu time. An example value is <code>2014-05-07T14:19:09.522Z</code> meaning May 7th 2014, 14:19:09 and 522 milliseconds, UTC / Zulu time. Another example value without time component is <code>2014-05-07Z</code>.</p><p>Valid range: <code>&quot;0000-01-01T00:00:00.000Z&quot;</code> .. <code>&quot;9999-12-31T23:59:59.999Z&quot;</code> (inclusive)</p></li></ul><p>Any date/time values outside the valid range that are passed into an C8QL date function will make the function return <code>null</code> and trigger a warning for the query, which can optionally be escalated to an error and abort the query. This also applies to operations which produce an invalid value.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">DATE_HOUR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_HOUR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;1970-01-01T02:00:00&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You are free to store age determinations of specimens, incomplete or fuzzy dates and the like in different, more appropriate ways of course. C8QL&#x27;s date functions will most certainly not be of any help for such dates, but you can still use language constructs like <a href="/docs/queryworkers/c8ql/operations/sort">SORT</a> (which also supports sorting of arrays) and indexes like skiplists.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="current-date-and-time">Current date and time<a class="hash-link" href="#current-date-and-time" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_now">DATE_NOW()<a class="hash-link" href="#date_now" title="Direct link to heading">​</a></h3><p><code>DATE_NOW() → timestamp</code></p><p>Get the current unix time as numeric timestamp.</p><ul><li>returns <strong>timestamp</strong> (number): the current unix time as a timestamp. The return value has millisecond precision. To convert the return value to seconds, divide it by 1000.</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>This function is evaluated on every invocation and may return different values when invoked multiple times in the same query. Assign it to a variable to use the exact same timestamp multiple times.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="conversion">Conversion<a class="hash-link" href="#conversion" title="Direct link to heading">​</a></h3><p><em>DATE_TIMESTAMP()</em> and <em>DATE_ISO8601()</em> can be used to convert ISO 8601 date time strings to numeric timestamps and numeric timestamps to ISO 8601 date time strings.</p><p>Both also support individual date components as separate function arguments, in the following order:</p><ul><li>year</li><li>month</li><li>day</li><li>hour</li><li>minute</li><li>second</li><li>millisecond</li></ul><p>All components following <em>day</em> are optional and can be omitted. Note that no time offset can be specified when using separate date components, and UTC / Zulu time will be used.</p><p>The following calls to <em>DATE_TIMESTAMP()</em> are equivalent and will all return <em>1399472349522</em>:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">DATE_TIMESTAMP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2014-05-07T14:19:09.522&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_TIMESTAMP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2014-05-07T14:19:09.522Z&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_TIMESTAMP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2014-05-07 14:19:09.522&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_TIMESTAMP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2014-05-07 14:19:09.522Z&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_TIMESTAMP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2014</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">522</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_TIMESTAMP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1399472349522</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The same is true for calls to <em>DATE_ISO8601()</em> that also accepts variable input formats:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">DATE_ISO8601</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2014-05-07T14:19:09.522Z&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_ISO8601</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2014-05-07 14:19:09.522Z&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_ISO8601</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2014</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">522</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_ISO8601</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1399472349522</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The above functions are all equivalent and will return <em>&quot;2014-05-07T14:19:09.522Z&quot;</em>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_iso8601">DATE_ISO8601()<a class="hash-link" href="#date_iso8601" title="Direct link to heading">​</a></h3><p><code>DATE_ISO8601(date) → dateString</code></p><p>Return an ISO 8601 date time string from <em>date</em>. The date time string will always use UTC / Zulu time, indicated by the <em>Z</em> at its end.</p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li>returns <strong>dateString</strong>: date and time expressed according to ISO 8601, in Zulu time</li></ul><p><code>DATE_ISO8601(year, month, day, hour, minute, second, millisecond) → dateString</code></p><p>Return a ISO 8601 date time string from <em>date</em>, but allows to specify the individual date components separately. All parameters after <em>day</em> are optional.</p><ul><li><strong>year</strong> (number): typically in the range 0..9999, e.g. <em>2017</em></li><li><strong>month</strong> (number): 1..12 for January through December</li><li><strong>day</strong> (number): 1..31 (upper bound depends on number of days in month)</li><li><strong>hour</strong> (number, <em>optional</em>): 0..23</li><li><strong>minute</strong> (number, <em>optional</em>): 0..59</li><li><strong>second</strong> (number, <em>optional</em>): 0..59</li><li><strong>milliseconds</strong> (number, <em>optional</em>): 0..999</li><li>returns <strong>dateString</strong>: date and time expressed according to ISO 8601, in Zulu time</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_timestamp">DATE_TIMESTAMP()<a class="hash-link" href="#date_timestamp" title="Direct link to heading">​</a></h3><p><code>DATE_TIMESTAMP(date) → timestamp</code></p><p>Create a timestamp value from <em>date</em>. The return value has millisecond precision. To convert the return value to seconds, divide it by 1000.</p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li>returns <strong>timestamp</strong> (number): numeric timestamp</li></ul><p><code>DATE_TIMESTAMP(year, month, day, hour, minute, second, millisecond) → timestamp</code></p><p>Create a timestamp value, but allows to specify the individual date components separately. All parameters after <em>day</em> are optional.</p><ul><li><strong>year</strong> (number): typically in the range 0..9999, e.g. <em>2017</em></li><li><strong>month</strong> (number): 1..12 for January through December</li><li><strong>day</strong> (number): 1..31 (upper bound depends on number of days in month)</li><li><strong>hour</strong> (number, <em>optional</em>): 0..23</li><li><strong>minute</strong> (number, <em>optional</em>): 0..59</li><li><strong>second</strong> (number, <em>optional</em>): 0..59</li><li><strong>milliseconds</strong> (number, <em>optional</em>): 0..999</li><li>returns <strong>timestamp</strong> (number): numeric timestamp</li></ul><p>Negative values are not allowed, result in <em>null</em> and cause a warning. Values greater than the upper range bound overflow to the larger components (e.g. an hour of 26 is automatically turned into an additional day and two hours):</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">DATE_TIMESTAMP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2016</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// returns null and issues a warning</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_TIMESTAMP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2016</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// returns 1456963200000, which is March 3rd, 2016</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_TIMESTAMP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1970</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">26</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// returns 93600000, which is January 2nd, 1970, at 2 a.m.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="is_datestring">IS_DATESTRING()<a class="hash-link" href="#is_datestring" title="Direct link to heading">​</a></h3><p><code>IS_DATESTRING(value) → bool</code></p><p>Check if an arbitrary string is suitable for interpretation as date time string.</p><ul><li><strong>value</strong> (string): an arbitrary string</li><li>returns <strong>bool</strong> (bool): <em>true</em> if <em>value</em> is a string that can be used in a date function. This includes partial dates such as <em>2015</em> or <em>2015-10</em> and strings containing invalid dates such as <em>2015-02-31</em>. The function will return <em>false</em> for all non-string values, even if some of them may be usable in date functions.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="processing">Processing<a class="hash-link" href="#processing" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_dayofweek">DATE_DAYOFWEEK()<a class="hash-link" href="#date_dayofweek" title="Direct link to heading">​</a></h3><p><code>DATE_DAYOFWEEK(date) → weekdayNumber</code></p><p>Return the weekday number of <em>date</em>.</p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li>returns <strong>weekdayNumber</strong> (number): 0..6 as follows:<ul><li>0 – Sunday</li><li>1 – Monday</li><li>2 – Tuesday</li><li>3 – Wednesday</li><li>4 – Thursday</li><li>5 – Friday</li><li>6 – Saturday</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_year">DATE_YEAR()<a class="hash-link" href="#date_year" title="Direct link to heading">​</a></h3><p><code>DATE_YEAR(date) → year</code></p><p>Return the year of <em>date</em>.</p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li>returns <strong>year</strong> (number): the year part of <em>date</em> as a number</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_month">DATE_MONTH()<a class="hash-link" href="#date_month" title="Direct link to heading">​</a></h3><p><code>DATE_MONTH(date) → month</code></p><p>Return the month of <em>date</em>.</p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li>returns <strong>month</strong> (number): the month part of <em>date</em> as a number</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_day">DATE_DAY()<a class="hash-link" href="#date_day" title="Direct link to heading">​</a></h3><p><code>DATE_DAY(date) → day</code></p><p>Return the day of <em>date</em>.</p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li>returns <strong>day</strong> (number): the day part of <em>date</em> as a number</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_hour">DATE_HOUR()<a class="hash-link" href="#date_hour" title="Direct link to heading">​</a></h3><p>Return the hour of <em>date</em>.</p><p><code>DATE_HOUR(date) → hour</code></p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li>returns <strong>hour</strong> (number): the hour part of <em>date</em> as a number</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_minute">DATE_MINUTE()<a class="hash-link" href="#date_minute" title="Direct link to heading">​</a></h3><p><code>DATE_MINUTE(date) → minute</code></p><p>Return the minute of <em>date</em>.</p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li>returns <strong>minute</strong> (number): the minute part of <em>date</em> as a number</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_second">DATE_SECOND()<a class="hash-link" href="#date_second" title="Direct link to heading">​</a></h3><p><code>DATE_SECOND(date) → second</code></p><p>Return the second of <em>date</em>.</p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li>returns <strong>second</strong> (number): the seconds part of <em>date</em> as a number</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_millisecond">DATE_MILLISECOND()<a class="hash-link" href="#date_millisecond" title="Direct link to heading">​</a></h3><p><code>DATE_MILLISECOND(date) → millisecond</code></p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li>returns <strong>millisecond</strong> (number): the milliseconds part of <em>date</em> as a number</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_dayofyear">DATE_DAYOFYEAR()<a class="hash-link" href="#date_dayofyear" title="Direct link to heading">​</a></h3><p><code>DATE_DAYOFYEAR(date) → dayOfYear</code></p><p>Return the day of year of <em>date</em>.</p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li>returns <strong>dayOfYear</strong> (number): the day of year number of <em>date</em>.
The return values range from 1 to 365, or 366 in a leap year respectively.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_isoweek">DATE_ISOWEEK()<a class="hash-link" href="#date_isoweek" title="Direct link to heading">​</a></h3><p><code>DATE_ISOWEEK(date) → weekDate</code></p><p>Return the week date of <em>date</em> according to ISO 8601.</p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li>returns <strong>weekDate</strong> (number): the ISO week date of <em>date</em>. The return values range from 1 to 53. Monday is considered the first day of the week. There are no fractional weeks, thus the last days in December may belong to the first week of the next year, and the first days in January may be part of the previous year&#x27;s last week.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_leapyear">DATE_LEAPYEAR()<a class="hash-link" href="#date_leapyear" title="Direct link to heading">​</a></h3><p><code>DATE_LEAPYEAR(date) → leapYear</code></p><p>Return whether <em>date</em> is in a leap year.</p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li>returns <strong>leapYear</strong> (bool): <em>true</em> if <em>date</em> is in a leap year, <em>false</em> otherwise</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_quarter">DATE_QUARTER()<a class="hash-link" href="#date_quarter" title="Direct link to heading">​</a></h3><p><code>DATE_QUARTER(date) → quarter</code></p><p>Return which quarter <em>date</em> belongs to.</p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li>returns <strong>quarter</strong> (number): the quarter of the given date (1-based):<ul><li>1 – January, February, March</li><li>2 – April, May, June</li><li>3 – July, August, September</li><li>4 – October, November, December</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_days_in_month">DATE_DAYS_IN_MONTH()<a class="hash-link" href="#date_days_in_month" title="Direct link to heading">​</a></h3><p>Return the number of days in the month of <em>date</em>.</p><p><code>DATE_DAYS_IN_MONTH(date) → daysInMonth</code></p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li>returns <strong>daysInMonth</strong> (number): the number of days in <em>date</em>&#x27;s month (28..31)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_trunc">DATE_TRUNC()<a class="hash-link" href="#date_trunc" title="Direct link to heading">​</a></h3><p><code>DATE_TRUNC(date, unit) → isoDate</code></p><p>Truncates the given date after <em>unit</em> and returns the modified date.</p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li><strong>unit</strong> (string): either of the following to specify the time unit (case-insensitive):<ul><li>y, year, years</li><li>m, month, months</li><li>d, day, days</li><li>h, hour, hours</li><li>i, minute, minutes</li><li>s, second, seconds</li><li>f, millisecond, milliseconds</li></ul></li><li>returns <strong>isoDate</strong> (string): the truncated ISO 8601 date time string</li></ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">DATE_TRUNC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;2017-02-03&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;month&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 2017-02-01T00:00:00.000Z</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_TRUNC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;2017-02-03 04:05:06&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;hours&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 2017-02-03 04:00:00.000Z</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">RETURN</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">MERGE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token constant" style="color:#36acaa">FOR</span><span class="token plain"> doc </span><span class="token constant" style="color:#36acaa">IN</span><span class="token plain"> @data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token constant" style="color:#36acaa">COLLECT</span><span class="token plain"> q </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">DATE_TRUNC</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">doc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;year&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">INTO</span><span class="token plain"> bucket</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token constant" style="color:#36acaa">RETURN</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">DATE_YEAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">doc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">value</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @</span><span class="token constant" style="color:#36acaa">BV</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">&quot;data&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;date&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2018-03-05&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Spring&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;date&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2018-07-11&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Summer&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;date&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2018-10-26&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Autumn&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;date&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2019-01-09&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Winter&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;date&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2019-04-02&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Spring&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_round">DATE_ROUND()<a class="hash-link" href="#date_round" title="Direct link to heading">​</a></h3><p><code>DATE_ROUND(date, amount, unit) → isoDate</code></p><p>Bin a date/time into a set of equal-distance buckets, to be used for grouping.</p><ul><li><strong>date</strong> (string<!-- -->|<!-- -->number): a date string or timestamp</li><li><strong>amount</strong> (number): number of _unit_s. Must be a positive integer value.</li><li><strong>unit</strong> (string): either of the following to specify the time unit (case-insensitive):<ul><li>d, day, days</li><li>h, hour, hours</li><li>i, minute, minutes</li><li>s, second, seconds</li><li>f, millisecond, milliseconds</li></ul></li><li>returns <strong>isoDate</strong> (string): the rounded ISO 8601 date time string</li></ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">DATE_ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;2000-04-28T11:11:11.111Z&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;day&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 2000-04-28T00:00:00.000Z</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;2000-04-10T11:39:29Z&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;minutes&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 2000-04-10T11:30:00.000Z</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">FOR</span><span class="token plain"> doc </span><span class="token constant" style="color:#36acaa">IN</span><span class="token plain"> @sensorData</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token constant" style="color:#36acaa">COLLECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        date </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">DATE_ROUND</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">doc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">timestamp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;minutes&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token constant" style="color:#36acaa">AGGREGATE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        count </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">COUNT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        avg </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">AVG</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">doc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">temp</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        min </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">MIN</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">doc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">temp</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        max </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">MAX</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">doc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">temp</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token constant" style="color:#36acaa">RETURN</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> date</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> avg</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> min</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> max </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @</span><span class="token constant" style="color:#36acaa">BV</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-property property" style="color:#36acaa">&quot;sensorData&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2019-12-04T21:17:52.583Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;temp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20.6</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2019-12-04T21:19:53.516Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;temp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20.2</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2019-12-04T21:21:53.610Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;temp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19.9</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2019-12-04T21:23:52.522Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;temp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19.8</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2019-12-04T21:25:52.988Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;temp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19.8</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2019-12-04T21:27:54.005Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string-property property" style="color:#36acaa">&quot;temp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19.7</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_format">DATE_FORMAT()<a class="hash-link" href="#date_format" title="Direct link to heading">​</a></h3><p><code>DATE_FORMAT(date, format) → str</code></p><p>Format a date according to the given format string.</p><ul><li><strong>date</strong> (string<!-- -->|<!-- -->number): a date string or timestamp</li><li><strong>format</strong> (string): a format string, see below</li><li>returns <strong>str</strong> (string): a formatted date string</li></ul><p><em>format</em> supports the following placeholders (case-insensitive):</p><ul><li>%t – timestamp, in milliseconds since midnight 1970-01-01</li><li>%z – ISO date (0000-00-00T00:00:00.000Z)</li><li>%w – day of week (0..6)</li><li>%y – year (0..9999)</li><li>%yy – year (00..99), abbreviated (last two digits)</li><li>%yyyy – year (0000..9999), padded to length of 4</li><li>%yyyyyy – year (-009999 .. +009999), with sign prefix and padded to length of 6</li><li>%m – month (1..12)</li><li>%mm – month (01..12), padded to length of 2</li><li>%d – day (1..31)</li><li>%dd – day (01..31), padded to length of 2</li><li>%h – hour (0..23)</li><li>%hh – hour (00..23), padded to length of 2</li><li>%i – minute (0..59)</li><li>%ii – minute (00..59), padded to length of 2</li><li>%s – second (0..59)</li><li>%ss – second (00..59), padded to length of 2</li><li>%f – millisecond (0..999)</li><li>%fff – millisecond (000..999), padded to length of 3</li><li>%x – day of year (1..366)</li><li>%xxx – day of year (001..366), padded to length of 3</li><li>%k – ISO week date (1..53)</li><li>%kk – ISO week date (01..53), padded to length of 2</li><li>%l – leap year (0 or 1)</li><li>%q – quarter (1..4)</li><li>%a – days in month (28..31)</li><li>%mmm – abbreviated English name of month (Jan..Dec)</li><li>%mmmm – English name of month (January..December)</li><li>%www – abbreviated English name of weekday (Sun..Sat)</li><li>%wwww – English name of weekday (Sunday..Saturday)</li><li>%&amp; – special escape sequence for rare occasions</li><li>%% – literal %</li><li>% – ignored</li></ul><p><code>%yyyy</code> does not enforce a length of 4 for years before 0 and past 9999. The same format as for <code>%yyyyyy</code> will be used instead. <code>%yy</code> preserves the sign for negative years and may thus return 3 characters in total.</p><p>Single <code>%</code> characters will be ignored. Use <code>%%</code> for a literal <code>%</code>. To resolve ambiguities like in <code>%mmonth</code> (unpadded month number + the string &quot;month&quot;) between <code>%mm</code> + &quot;onth&quot; and <code>%m</code> + &quot;month&quot;, use the escape sequence <code>%&amp;</code>: <code>%m%&amp;month</code>.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p><em>DATE_FORMAT()</em> is a rather costly operation and may not be suitable for large datasets (like over 1 million dates). If possible, avoid formatting dates on server-side and leave it up to the client to do so. This function should only be used for special date comparisons or to store the formatted dates in the database. For better performance, use the primitive <code>DATE_*()</code> functions together with <code>CONCAT()</code> if possible.</p></div></div><p>Examples:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">DATE_FORMAT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_NOW</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;%q/%yyyy&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// quarter and year (e.g. &quot;3/2015&quot;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_FORMAT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_NOW</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;%dd.%mm.%yyyy %hh:%ii:%ss,%fff&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// e.g. &quot;18.09.2015 15:30:49,374&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_FORMAT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;1969&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Summer of &#x27;%yy&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &quot;Summer of &#x27;69&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_FORMAT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2016&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;%%l = %l&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &quot;%l = 1&quot; (2016 is a leap year)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_FORMAT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2016-03-01&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;%xxx%&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &quot;063&quot;, trailing % ignored</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="comparison-and-calculation">Comparison and calculation<a class="hash-link" href="#comparison-and-calculation" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_add">DATE_ADD()<a class="hash-link" href="#date_add" title="Direct link to heading">​</a></h3><p><code>DATE_ADD(date, amount, unit) → isoDate</code></p><p>Add <em>amount</em> given in <em>unit</em> to <em>date</em> and return the calculated date.</p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li><strong>amount</strong> (number<!-- -->|<!-- -->string): number of _unit_s to add (positive value) or subtract (negative value). It is recommended to use positive values only, and use <a href="#date_subtract">DATE_SUBTRACT()</a> for subtractions instead.</li><li><strong>unit</strong> (string): either of the following to specify the time unit to add or subtract (case-insensitive):<ul><li>y, year, years</li><li>m, month, months</li><li>w, week, weeks</li><li>d, day, days</li><li>h, hour, hours</li><li>i, minute, minutes</li><li>s, second, seconds</li><li>f, millisecond, milliseconds</li></ul></li><li>returns <strong>isoDate</strong> (string): the calculated ISO 8601 date time string</li></ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">DATE_ADD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_NOW</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;day&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// yesterday; also see DATE_SUBTRACT()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_ADD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_NOW</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;months&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// in three months</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_ADD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_ADD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2015-04-01&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;years&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;month&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// May 1st 2020</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_ADD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2015-04-01&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token operator" style="color:#393A34">*</span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;months&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// also May 1st 2020</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_ADD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_TIMESTAMP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_YEAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_NOW</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">24</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;years&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Christmas four years ago</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_ADD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_ADD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2016-02&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;month&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;day&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// last day of February (29th, because 2016 is a leap year!)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>DATE_ADD(date, isoDuration) → isoDate</code></p><p>You may also pass an ISO duration string as <em>amount</em> and leave out <em>unit</em>.</p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li><strong>isoDuration</strong> (string): an ISO 8601 duration string to add to <em>date</em>, see below</li><li>returns <strong>isoDate</strong> (string):  the calculated ISO 8601 date time string</li></ul><p>The format is <code>P_Y_M_W_DT_H_M_._S</code>, where underscores stand for digits and letters for time intervals - except for the separators <code>P</code> (period) and <code>T</code> (time).</p><p>The meaning of the other letters are:</p><ul><li>Y – years</li><li>M – months (if before T)</li><li>W – weeks</li><li>D – days</li><li>H – hours</li><li>M – minutes (if after T)</li><li>S – seconds (optionally with 3 decimal places for milliseconds)</li></ul><p>The string must be prefixed by a <code>P</code>. A separating <code>T</code> is only required if <code>H</code>, <code>M</code> and/or <code>S</code> are specified. You only need to specify the needed pairs of letters and numbers.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">DATE_ADD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_NOW</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;P1Y&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// add 1 year</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_ADD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_NOW</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;P3M2W&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// add 3 months and 2 weeks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_ADD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_NOW</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;P5DT26H&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// add 5 days and 26 hours (=6 days and 2 hours)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_ADD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2000-01-01&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;PT4H&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// add 4 hours</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_ADD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2000-01-01&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;PT30M44.4S&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// add 30 minutes, 44 seconds and 400 ms</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_ADD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2000-01-01&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;P1Y2M3W4DT5H6M7.89S&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// add a bit of everything</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_subtract">DATE_SUBTRACT()<a class="hash-link" href="#date_subtract" title="Direct link to heading">​</a></h3><p><code>DATE_SUBTRACT(date, amount, unit) → isoDate</code></p><p>Subtract <em>amount</em> given in <em>unit</em> from <em>date</em> and return the calculated date.</p><p>It works the same as <a href="#date_add">DATE_ADD()</a>, except that it subtracts. It is equivalent to calling <em>DATE_ADD()</em> with a negative amount, except that <em>DATE_SUBTRACT()</em> can also subtract ISO durations. Note that negative ISO durations are not supported (i.e. starting with <code>-P</code>, like <code>-P1Y</code>).</p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li><strong>amount</strong> (number<!-- -->|<!-- -->string): number of _unit_s to subtract (positive value) or add (negative value). It is recommended to use positive values only, and use <a href="#date_add">DATE_ADD()</a> for additions instead.</li><li><strong>unit</strong> (string): either of the following to specify the time unit to add or subtract (case-insensitive):<ul><li>y, year, years</li><li>m, month, months</li><li>w, week, weeks</li><li>d, day, days</li><li>h, hour, hours</li><li>i, minute, minutes</li><li>s, second, seconds</li><li>f, millisecond, milliseconds</li></ul></li><li>returns <strong>isoDate</strong> (string): the calculated ISO 8601 date time string</li></ul><p><code>DATE_SUBTRACT(date, isoDuration) → isoDate</code></p><p>You may also pass an ISO duration string as <em>amount</em> and leave out <em>unit</em>.</p><ul><li><strong>date</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li><strong>isoDuration</strong> (string): an ISO 8601 duration string to subtract from <em>date</em>, see below</li><li>returns <strong>isoDate</strong> (string): the calculated ISO 8601 date time string</li></ul><p>The format is <code>P_Y_M_W_DT_H_M_._S</code>, where underscores stand for digits and letters for time intervals - except for the separators <code>P</code> (period) and <code>T</code> (time). The meaning of the other letters are:</p><ul><li>Y – years</li><li>M – months (if before T)</li><li>W – weeks</li><li>D – days</li><li>H – hours</li><li>M – minutes (if after T)</li><li>S – seconds (optionally with 3 decimal places for milliseconds)</li></ul><p>The string must be prefixed by a <code>P</code>. A separating <code>T</code> is only required if <code>H</code>, <code>M</code> and/or <code>S</code> are specified. You only need to specify the needed pairs of letters and numbers.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">DATE_SUBTRACT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_NOW</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;day&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// yesterday</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_SUBTRACT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_TIMESTAMP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_YEAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_NOW</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">24</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;years&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Christmas four years ago</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_SUBTRACT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_ADD</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2016-02&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;month&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;day&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// last day of February (29th, because 2016 is a leap year!)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_SUBTRACT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_NOW</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;P4D&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// four days ago</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_SUBTRACT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">DATE_NOW</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;PT1H3M&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 1 hour and 30 minutes ago</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_diff">DATE_DIFF()<a class="hash-link" href="#date_diff" title="Direct link to heading">​</a></h3><p><code>DATE_DIFF(date1, date2, unit, asFloat) → diff</code></p><p>Calculate the difference between two dates in given time <em>unit</em>, optionally with decimal places.</p><ul><li><strong>date1</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li><strong>date2</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li><strong>unit</strong> (string): either of the following to specify the time unit to return the difference in (case-insensitive):<ul><li>y, year, years</li><li>m, month, months</li><li>w, week, weeks</li><li>d, day, days</li><li>h, hour, hours</li><li>i, minute, minutes</li><li>s, second, seconds</li><li>f, millisecond, milliseconds</li></ul></li><li><strong>asFloat</strong> (boolean, <em>optional</em>): if set to <em>true</em>, decimal places will be preserved in the result. The default is <em>false</em> and an integer is returned. - returns <strong>diff</strong> (number): the calculated difference as number in <em>unit</em>. The value will be negative if <em>date2</em> is before <em>date1</em>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="date_compare">DATE_COMPARE()<a class="hash-link" href="#date_compare" title="Direct link to heading">​</a></h3><p><code>DATE_COMPARE(date1, date2, unitRangeStart, unitRangeEnd) → bool</code></p><p>Check if two partial dates match.</p><ul><li><strong>date1</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li><strong>date2</strong> (number<!-- -->|<!-- -->string): numeric timestamp or ISO 8601 date time string</li><li><strong>unitRangeStart</strong> (string): unit to start from, see below</li><li><em><em>unitRangeEnd</em></em> (string, <em>optional</em>):  unit to end with, leave out to only compare the component as specified by <em>unitRangeStart</em>. An error is raised if <em>unitRangeEnd</em> is a unit before <em>unitRangeStart</em>.</li><li>returns <strong>bool</strong> (bool): <em>true</em> if the dates match, <em>false</em> otherwise</li></ul><p>The parts to compare are defined by a range of time units. The full range is: years, months, days, hours, minutes, seconds, milliseconds (in this order).</p><p>All components of <em>date1</em> and <em>date2</em> as specified by the range will be compared. You can refer to the units as:</p><ul><li>y, year, years</li><li>m, month, months</li><li>d, day, days</li><li>h, hour, hours</li><li>i, minute, minutes</li><li>s, second, seconds</li><li>f, millisecond, milliseconds</li></ul><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Compare months and days, true on birthdays if you&#x27;re born on 4th of April</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_COMPARE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;1985-04-04&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">DATE_NOW</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;months&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;days&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Will only match on one day if the current year is a leap year!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// You may want to add or subtract one day from date1 to match every year.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_COMPARE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;1984-02-29&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">DATE_NOW</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;months&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;days&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// compare years, months and days (true, because it&#x27;s the same day)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DATE_COMPARE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;2001-01-01T15:30:45.678Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2001-01-01T08:08:08.008Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;years&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;days&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can directly compare ISO date <strong>strings</strong> if you want to find dates before or after a certain date, or in between two dates (<code>&gt;=</code>, <code>&gt;</code>, <code>&lt;</code>, <code>&lt;=</code>). No special date function is required. Equality tests (<code>==</code> and <code>!=</code>) will only match the exact same date and time however. You may use <code>SUBSTRING()</code> to compare partial date strings, <code>DATE_COMPARE()</code> is basically a convenience function for that. However, neither is really required to limit a search to a certain day as demonstrated here:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">FOR</span><span class="token plain"> doc </span><span class="token constant" style="color:#36acaa">IN</span><span class="token plain"> coll</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">FILTER</span><span class="token plain"> doc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">date</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2015-05-15&quot;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">AND</span><span class="token plain"> doc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">date</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2015-05-16&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">RETURN</span><span class="token plain"> doc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Every ISO date on that day is greater than or equal to <code>2015-05-15</code> in a string comparison (e.g. <code>2015-05-15T11:30:00.000Z</code>). Dates before <code>2015-05-15</code> are smaller and therefore filtered out by the first condition. Every date past <code>2015-05-15</code> is greater than this date in a string comparison, and therefore filtered out by the second condition. The result is that the time components in the dates you compare with are &quot;ignored&quot;. The query will return every document with <em>date</em> ranging from <code>2015-05-15T00:00:00.000Z</code> to <code>2015-05-15T23:99:99.999Z</code>. It would also include <code>2015-05-15T24:00:00.000Z</code>, but that date is actually <code>2015-05-16T00:00:00.000Z</code> and can only occur if inserted manually (you may want to pass dates through <a href="#date_iso8601">DATE_ISO8601()</a> to ensure a correct date representation).</p><p>Leap days in leap years (29th of February) must be always handled manually, if you require so (e.g. birthday checks):</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">LET</span><span class="token plain"> today </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">DATE_NOW</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">LET</span><span class="token plain"> noLeapYear </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NOT</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">DATE_LEAPYEAR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">today</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">FOR</span><span class="token plain"> user </span><span class="token constant" style="color:#36acaa">IN</span><span class="token plain"> users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">LET</span><span class="token plain"> birthday </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> noLeapYear </span><span class="token constant" style="color:#36acaa">AND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   </span><span class="token constant" style="color:#36acaa">DATE_MONTH</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">birthday</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">AND</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   </span><span class="token constant" style="color:#36acaa">DATE_DAY</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">birthday</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">29</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">DATE_SUBTRACT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">birthday</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;day&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">/* treat like 28th in non-leap years */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                   </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">birthday</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">FILTER</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">DATE_COMPARE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">today</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> birthday</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;month&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;day&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/* includes leaplings on the 28th of February in non-leap years,</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * but excludes them in leap years which do have a 29th February.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * Replace DATE_SUBTRACT() by DATE_ADD() to include them on the 1st of March</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     * in non-leap years instead (depends on local jurisdiction).</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token constant" style="color:#36acaa">RETURN</span><span class="token plain"> user</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="working-with-dates-and-indices">Working with dates and indices<a class="hash-link" href="#working-with-dates-and-indices" title="Direct link to heading">​</a></h2><p>There are two recommended ways to store timestamps in GDN:</p><ul><li>string: UTC timestamp with <a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener noreferrer">ISO 8601</a>{:target=&quot;_blank&quot;}</li><li>number: <a href="https://en.wikipedia.org/wiki/Unix_time" target="_blank" rel="noopener noreferrer">unix timestamp</a>{:target=&quot;_blank&quot;} with millisecond precision</li></ul><p>The sort order of both is identical due to the sort properties of ISO date strings. You can&#x27;t mix both types, numbers and strings, in a single attribute however.</p><p>You can use <a href="/docs/collections/indexing/#skiplist-index">skiplist indices</a> with both date types. When chosing string representations, you can work with string comparisons (less than, greater than etc.) to express time ranges in your queries while still utilizing skiplist indices:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">_create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;exampleTime&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> timestamps </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;2014-05-07T14:19:09.522&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;2014-05-07T21:19:09.522&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;2014-05-08T04:19:09.522&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;2014-05-08T11:19:09.522&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">&quot;2014-05-08T18:19:09.522&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">exampleTime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">save</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">value</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">ts</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> timestamps</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">_query</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;FOR d IN exampleTime FILTER d.ts &gt; &#x27;2014-05-07T14:19:09.522&#x27; and d.ts &lt; &#x27;2014-05-08T18:19:09.522&#x27; RETURN d&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toArray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">~</span><span class="token function" style="color:#d73a49">addIgnoreCollection</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;example&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">~</span><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">_drop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;exampleTime&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The first and the last timestamp in the array are excluded from the result by the <code>FILTER</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="limitations">Limitations<a class="hash-link" href="#limitations" title="Direct link to heading">​</a></h2><p>Note that dates before the year 1583 aren&#x27;t allowed by the <a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener noreferrer">ISO 8601</a>{:target=&quot;_blank&quot;} standard by default, because they lie before the official introduction of the Gregorian calendar and may thus be incorrect or invalid. All C8QL date functions apply the same rules to every date according to the Gregorian calendar system, even if inappropriate. That does not constitute a problem, unless you deal with dates prior to 1583 and especially years before Christ. The standard allows negative years, but requires special treatment of positive years too, if negative years are used (e.g. <code>+002015-05-15</code> and <code>-000753-01-01</code>). This is rarely used however, and C8QL does not use the 7-character version for years between 0 and 9999 in ISO strings. Keep in mind that they can&#x27;t be properly compared to dates outside that range. Sorting of negative dates does not result in a meaningful order, with years longer ago last, but months, days and the time components in otherwise correct order.</p><p>Leap seconds are ignored, just as they are in JavaScript as per <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.1.1" target="_blank" rel="noopener noreferrer">ECMAScript Language Specifications</a>{:target=&quot;_blank&quot;}.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/macrometacorp/docs/edit/main/docs/queryworkers/c8ql/functions/date.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/queryworkers/c8ql/functions/database"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Database Functions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/queryworkers/c8ql/functions/document"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Document Functions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#current-date-and-time" class="table-of-contents__link toc-highlight">Current date and time</a><ul><li><a href="#date_now" class="table-of-contents__link toc-highlight">DATE_NOW()</a></li><li><a href="#conversion" class="table-of-contents__link toc-highlight">Conversion</a></li><li><a href="#date_iso8601" class="table-of-contents__link toc-highlight">DATE_ISO8601()</a></li><li><a href="#date_timestamp" class="table-of-contents__link toc-highlight">DATE_TIMESTAMP()</a></li><li><a href="#is_datestring" class="table-of-contents__link toc-highlight">IS_DATESTRING()</a></li></ul></li><li><a href="#processing" class="table-of-contents__link toc-highlight">Processing</a><ul><li><a href="#date_dayofweek" class="table-of-contents__link toc-highlight">DATE_DAYOFWEEK()</a></li><li><a href="#date_year" class="table-of-contents__link toc-highlight">DATE_YEAR()</a></li><li><a href="#date_month" class="table-of-contents__link toc-highlight">DATE_MONTH()</a></li><li><a href="#date_day" class="table-of-contents__link toc-highlight">DATE_DAY()</a></li><li><a href="#date_hour" class="table-of-contents__link toc-highlight">DATE_HOUR()</a></li><li><a href="#date_minute" class="table-of-contents__link toc-highlight">DATE_MINUTE()</a></li><li><a href="#date_second" class="table-of-contents__link toc-highlight">DATE_SECOND()</a></li><li><a href="#date_millisecond" class="table-of-contents__link toc-highlight">DATE_MILLISECOND()</a></li><li><a href="#date_dayofyear" class="table-of-contents__link toc-highlight">DATE_DAYOFYEAR()</a></li><li><a href="#date_isoweek" class="table-of-contents__link toc-highlight">DATE_ISOWEEK()</a></li><li><a href="#date_leapyear" class="table-of-contents__link toc-highlight">DATE_LEAPYEAR()</a></li><li><a href="#date_quarter" class="table-of-contents__link toc-highlight">DATE_QUARTER()</a></li><li><a href="#date_days_in_month" class="table-of-contents__link toc-highlight">DATE_DAYS_IN_MONTH()</a></li><li><a href="#date_trunc" class="table-of-contents__link toc-highlight">DATE_TRUNC()</a></li><li><a href="#date_round" class="table-of-contents__link toc-highlight">DATE_ROUND()</a></li><li><a href="#date_format" class="table-of-contents__link toc-highlight">DATE_FORMAT()</a></li></ul></li><li><a href="#comparison-and-calculation" class="table-of-contents__link toc-highlight">Comparison and calculation</a><ul><li><a href="#date_add" class="table-of-contents__link toc-highlight">DATE_ADD()</a></li><li><a href="#date_subtract" class="table-of-contents__link toc-highlight">DATE_SUBTRACT()</a></li><li><a href="#date_diff" class="table-of-contents__link toc-highlight">DATE_DIFF()</a></li><li><a href="#date_compare" class="table-of-contents__link toc-highlight">DATE_COMPARE()</a></li></ul></li><li><a href="#working-with-dates-and-indices" class="table-of-contents__link toc-highlight">Working with dates and indices</a></li><li><a href="#limitations" class="table-of-contents__link toc-highlight">Limitations</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/quickstart">Quickstart</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/apps">Sample Apps</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/release-notes">Release Notes</a></li></ul></div><div class="col footer__col"><div class="footer__title">Developer Tools</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Macrometacorp/jsC8" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__item--external">Javascript<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/Macrometacorp/pyC8" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__item--external">Python<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.npmjs.com/package/gdnsl" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__item--external">CLI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/macrometacorp" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__item--external">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/macrometa/shared_invite/zt-1j4f06xwm-5Y~yGQz8CVImOowdc80s1A" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__item--external">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/macrometa" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__item--external">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://support.macrometa.com" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__item--external">Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://status.macrometa.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item footer__item--external">System Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2023 Macrometa • All rights reserved</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.ba2405bf.js"></script>
<script src="/docs/assets/js/main.55f2bcd5.js"></script>
</body>
</html>