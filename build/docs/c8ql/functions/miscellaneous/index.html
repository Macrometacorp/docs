<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-c8ql/functions/miscellaneous">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<title data-rh="true">Miscellaneous functions | Macrometa</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://macrometa.com/docs/c8ql/functions/miscellaneous"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Miscellaneous functions | Macrometa"><meta data-rh="true" name="description" content="Control flow functions"><meta data-rh="true" property="og:description" content="Control flow functions"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://macrometa.com/docs/c8ql/functions/miscellaneous"><link data-rh="true" rel="alternate" href="https://macrometa.com/docs/c8ql/functions/miscellaneous" hreflang="en"><link data-rh="true" rel="alternate" href="https://macrometa.com/docs/c8ql/functions/miscellaneous" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.ca9377f1.css">
<link rel="preload" href="/assets/js/runtime~main.46a3291a.js" as="script">
<link rel="preload" href="/assets/js/main.c6f67e6c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Macrometa Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo-white.svg" alt="Macrometa Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/quickstart">Docs</a><a class="navbar__item navbar__link" href="/api">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/macrometacorp/documentation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/quickstart">Quickstart</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/essentials/overview">Essentials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/collections/keyvalue/quickstart">Collections</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/search/quickstart">Search</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/queryworkers/tutorial">Query Workers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/streams/concepts">Streams</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/cep/quickstart">Stream Workers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/c8ql/introduction">C8 Query Language</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/c8ql-tutorial">C8QL Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/examples">Additional Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/coming-from-sql">Coming from SQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/fundamentals">C8QL Fundamentals</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/operators">Operators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/data-queries">Data Queries</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/c8ql/examples/overview">Examples</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/c8ql/operations/overview">Operations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/c8ql/functions/overview">Functions</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/functions/overview">Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/functions/string">String functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/functions/numeric">Numeric functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/functions/date">Date functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/functions/array">Array functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/functions/document">Document functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/functions/geo">Geo functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/functions/fulltext">Fulltext functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/functions/search">Search Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/c8ql/functions/miscellaneous">Miscellaneous functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/functions/type-cast">Type check and cast functions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/c8ql/graphs/overview">Graphs</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/array-operators">Array Operators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/c8ql/common-errors">Common Errors</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/demos/address-book">Demos &amp; Tutotials</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">üè†</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">C8 Query Language</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><span class="breadcrumbs__link" itemprop="item name">Functions</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Miscellaneous functions</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Miscellaneous functions</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="control-flow-functions">Control flow functions<a class="hash-link" href="#control-flow-functions" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="not_null">NOT_NULL()<a class="hash-link" href="#not_null" title="Direct link to heading">‚Äã</a></h3><p><code>NOT_NULL(alternative, ...) ‚Üí value</code></p><p>Return the first element that is not <em>null</em>, and <em>null</em> if all alternatives are <em>null</em> themselves. It is also known as <code>COALESCE()</code> in SQL.</p><ul><li><strong>alternative</strong> (any, <em>repeatable</em>): input of arbitrary type</li><li>returns <strong>value</strong> (any): first non-null parameter, or <em>null</em> if all arguments are <em>null</em></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="first_list">FIRST_LIST()<a class="hash-link" href="#first_list" title="Direct link to heading">‚Äã</a></h3><p>Return the first alternative that is an array, and <em>null</em> if none of the alternatives is an array.</p><ul><li><strong>alternative</strong> (any, <em>repeatable</em>): input of arbitrary type</li><li>returns <strong>list</strong> (array<!-- -->|<!-- -->null): array / list or null</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="first_document">FIRST_DOCUMENT()<a class="hash-link" href="#first_document" title="Direct link to heading">‚Äã</a></h3><p><code>FIRST_DOCUMENT(value) ‚Üí doc</code></p><p>Return the first alternative that is a document, and <em>null</em> if none of the alternatives is a document.</p><ul><li><strong>alternative</strong> (any, <em>repeatable</em>): input of arbitrary type</li><li>returns <strong>doc</strong> (object<!-- -->|<!-- -->null): document / object or null</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="ternary-operator">Ternary operator<a class="hash-link" href="#ternary-operator" title="Direct link to heading">‚Äã</a></h3><p>For conditional evaluation, check out the <a href="/docs/c8ql/operators#ternary-operator">ternary operator</a>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="database-functions">Database functions<a class="hash-link" href="#database-functions" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="collection_count">COLLECTION_COUNT()<a class="hash-link" href="#collection_count" title="Direct link to heading">‚Äã</a></h3><p><code>COLLECTION_COUNT(coll) ‚Üí count</code></p><p>Determine the amount of documents in a collection. <a href="#length">LENGTH()</a> is preferred.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="collections">COLLECTIONS()<a class="hash-link" href="#collections" title="Direct link to heading">‚Äã</a></h3><p><code>COLLECTIONS() ‚Üí docArray</code></p><p>Return an array of collections.</p><ul><li>returns <strong>docArray</strong> (array): each collection as a document with attributes
<em>name</em> and <em>_id</em> in an array</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="count">COUNT()<a class="hash-link" href="#count" title="Direct link to heading">‚Äã</a></h3><p>This is an alias for <a href="#length">LENGTH()</a>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="current_user">CURRENT_USER()<a class="hash-link" href="#current_user" title="Direct link to heading">‚Äã</a></h3><p><code>CURRENT_USER() ‚Üí userName</code></p><p>Return the name of the current user.</p><p>The current user is the user account name specified in the <em>Authorization</em> HTTP header of the request. If you ran the query as a request, authentication must be enabled on the server. Otherwise, the return value is <em>null</em>.</p><ul><li>returns <strong>userName</strong> (string<!-- -->|<!-- -->null): the current user name.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="current_user_attribute">CURRENT_USER_ATTRIBUTE()<a class="hash-link" href="#current_user_attribute" title="Direct link to heading">‚Äã</a></h3><p><code>CURRENT_USER_ATTRIBUTE() ‚Üí attribute</code></p><p>Returns attributes that are assigned to a user.</p><p>You can use these attributes to restrict access to documents. For example, you can add a document with an attribute <code>Department: finance</code> and create a similar <code>{ Department: finance }</code> attribute for an authorized user, then write the following query:</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">FOR</span><span class="token plain"> d </span><span class="token constant" style="color:#36acaa">IN</span><span class="token plain"> data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">FILTER</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">CURRENT_USER_ATTRIBUTE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">‚ÄúDepartment‚Äù</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> d</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Department</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">RETURN</span><span class="token plain"> d</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>To ensure security, verify that accounts who can access this query cannot also modify it and circumvent the attribute.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="current_apikey_attribute">CURRENT_APIKEY_ATTRIBUTE()<a class="hash-link" href="#current_apikey_attribute" title="Direct link to heading">‚Äã</a></h3><p><code>CURRENT_APIKEY_ATTRIBUTE() ‚Üí attribute</code></p><p>Returns attributes that are assigned to an API key.</p><p>You can use these attributes to restrict access to documents. For example, you can add a document with an attribute <code>Department: finance</code> and create a similar <code>{ Department: finance }</code> attribute for an API key, then write the following query:</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">FOR</span><span class="token plain"> d </span><span class="token constant" style="color:#36acaa">IN</span><span class="token plain"> data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">FILTER</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">CURRENT_USER_ATTRIBUTE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">‚ÄúDepartment‚Äù</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> d</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Department</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">RETURN</span><span class="token plain"> d</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>To ensure security, verify that accounts who can access this query cannot also modify it and circumvent the attribute.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="decode_rev">DECODE_REV()<a class="hash-link" href="#decode_rev" title="Direct link to heading">‚Äã</a></h3><p><code>DECODE_REV(revision) ‚Üí details</code></p><p>Decompose the specified <code>revision</code> string into its components. The resulting object has a <code>date</code> and a <code>count</code> attribute. This function is supposed to be called with the <code>_rev</code> attribute value of a database document as argument.</p><ul><li><strong>revision</strong> (string): revision ID string</li><li>returns <strong>details</strong> (object<!-- -->|<!-- -->null): object with two attributes <em>date</em> (string in ISO 8601 format) and <em>count</em> (integer number), or <em>null</em></li></ul><p>If the input revision ID is not a string or cannot be processed, the function issues a warning and returns <em>null</em>.</p><p>Please note that the <em>date</em> value in the current result provides the date and time of when the document record was put together on the server, but not necessarily the time of insertion into the underlying storage engine. Therefore in case of concurrent document operations the exact document storage order cannot be derived unambiguously from the revision value. It should thus be treated as a rough estimate of when a document was created or last updated.</p><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">DECODE_REV</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;_YU0HOEG---&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// { &quot;date&quot; : &quot;2019-03-11T16:15:05.314Z&quot;, &quot;count&quot; : 0 }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="document">DOCUMENT()<a class="hash-link" href="#document" title="Direct link to heading">‚Äã</a></h3><p><code>DOCUMENT(collection, id) ‚Üí doc</code></p><p>Return the document which is uniquely identified by its <em>id</em>. GDN will try to find the document using the <em>_id</em> value of the document in the specified collection. </p><p>If there is a mismatch between the <em>collection</em> passed and the collection specified in <em>id</em>, then <em>null</em> will be returned. Additionally, if the <em>collection</em> matches the collection value specified in <em>id</em> but the document cannot be found, <em>null</em> will be returned.</p><p>This function also allows <em>id</em> to be an array of ids. In this case, the function will return an array of all documents that could be found.</p><p>It is also possible to specify a document key instead of an id, or an array of keys to return all documents that can be found.</p><ul><li><strong>collection</strong> (string): name of a collection</li><li><strong>id</strong> (string<!-- -->|<!-- -->array): a document handle string (consisting of collection name and document key), a document key, or an array of both document handle strings and document keys</li><li>returns <strong>doc</strong> (document<!-- -->|<!-- -->array<!-- -->|<!-- -->null): the content of the found document, an array of all found documents or <em>null</em> if nothing was found</li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">DOCUMENT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> users</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;users/john&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DOCUMENT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> users</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;john&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DOCUMENT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> users</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;users/john&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;users/amy&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DOCUMENT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> users</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;john&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;amy&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><code>DOCUMENT(id) ‚Üí doc</code></p><p>The function can also be used with a single parameter <em>id</em> as follows:</p><ul><li><strong>id</strong> (string<!-- -->|<!-- -->array): either a document handle string (consisting of
collection name and document key) or an array of document handle strings</li><li>returns <strong>doc</strong> (document<!-- -->|<!-- -->null): the content of the found document
or <em>null</em> if nothing was found</li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">DOCUMENT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;users/john&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">DOCUMENT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;users/john&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;users/amy&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Please also consider to use
<a href="/docs/c8ql/operations/with"><code>DOCUMENT</code> in conjunction with <code>WITH</code></a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="length">LENGTH()<a class="hash-link" href="#length" title="Direct link to heading">‚Äã</a></h3><p><code>LENGTH(coll) ‚Üí documentCount</code></p><p>Determine the amount of documents in a collection.</p><p>It calls <a href="#collection_count">COLLECTION_COUNT()</a> internally.</p><ul><li><strong>coll</strong> (collection): a collection (not string)</li><li>returns <strong>documentCount</strong> (number): the total amount of documents in <em>coll</em></li></ul><p><em>LENGTH()</em> can also determine the <a href="/docs/c8ql/functions/array#length">number of elements</a> in an array,
the <a href="/docs/c8ql/functions/document#length">number of attribute keys</a> of an object / document and
the <a href="/docs/c8ql/functions/string#length">character length</a> of a string.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="hash-functions">Hash functions<a class="hash-link" href="#hash-functions" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="hash">HASH()<a class="hash-link" href="#hash" title="Direct link to heading">‚Äã</a></h3><p><code>HASH(value) ‚Üí hashNumber</code></p><p>Calculate a hash value for <em>value</em>.</p><ul><li><strong>value</strong> (any): an element of arbitrary type</li><li>returns <strong>hashNumber</strong> (number): a hash value of <em>value</em></li></ul><p><em>value</em> is not required to be a string, but can have any data type. The calculated hash value will take the data type of <em>value</em> into account, so for example the number <em>1</em> and the string <em>&quot;1&quot;</em> will have different hash values. For arrays the hash values will be equal if the arrays contain exactly the same values (including value types) in the same order. For objects the same hash values will be created if the objects have exactly the same attribute names and values (including value types). The order in which attributes appear inside objects is not important for hashing.</p><p>The hash value returned by this function is a number. The hash algorithm is not guaranteed to remain the same in future versions of GDN. The hash values should therefore be used only for temporary calculations, e.g. to compare if two documents are the same, or for grouping values in queries.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="string-based-hashing">String-based hashing<a class="hash-link" href="#string-based-hashing" title="Direct link to heading">‚Äã</a></h3><p>See the following string functions:</p><ul><li><a href="/docs/c8ql/functions/string#crc32">CRC32()</a></li><li><a href="/docs/c8ql/functions/string#fnv64">FNV64()</a></li><li><a href="/docs/c8ql/functions/string#md5">MD5()</a></li><li><a href="/docs/c8ql/functions/string#sha1">SHA1()</a></li><li><a href="/docs/c8ql/functions/string#sha512">SHA512()</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="function-calling">Function calling<a class="hash-link" href="#function-calling" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="apply">APPLY()<a class="hash-link" href="#apply" title="Direct link to heading">‚Äã</a></h3><p><code>APPLY(functionName, arguments) ‚Üí retVal</code></p><p>Dynamically call the function <em>funcName</em> with the arguments specified. Arguments are given as array and are passed as separate parameters to the called function.</p><p>Both built-in and user-defined functions can be called. </p><ul><li><strong>funcName</strong> (string): a function name</li><li><strong>arguments</strong> (array, <em>optional</em>): an array with elements of arbitrary type</li><li>returns <strong>retVal</strong> (any): the return value of the called function</li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">APPLY</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;SUBSTRING&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;this is a test&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// &quot;this is&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="assert--warn">ASSERT() / WARN()<a class="hash-link" href="#assert--warn" title="Direct link to heading">‚Äã</a></h3><p><code>ASSERT(expr, message) ‚Üí retVal</code><br>
<code>WARN(expr, message) ‚Üí retVal</code></p><p>The two functions evaluate an expression. In case the expression evaluates to <em>true</em> both functions will return <em>true</em>. If the expression evaluates to <em>false</em> <em>ASSERT</em> will throw an error and <em>WARN</em> will issue a warning and return <em>false</em>. This behavior allows the use of <em>ASSERT</em> and <em>WARN</em> in <code>FILTER</code> conditions.</p><ul><li><strong>expr</strong> (expression): AQL expression to be evaluated</li><li><strong>message</strong> (string): message that will be used in exception or warning if expression evaluates to false</li><li>returns <strong>retVal</strong> (bool): returns true if expression evaluates to true</li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">FOR</span><span class="token plain"> i </span><span class="token constant" style="color:#36acaa">IN</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.</span><span class="token number" style="color:#36acaa">.3</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">FILTER</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">ASSERT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;i is not greater 0&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">RETURN</span><span class="token plain"> i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token constant" style="color:#36acaa">FOR</span><span class="token plain"> i </span><span class="token constant" style="color:#36acaa">IN</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.</span><span class="token number" style="color:#36acaa">.3</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">FILTER</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">WARN</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;i is not smaller 2&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">RETURN</span><span class="token plain"> i</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="call">CALL()<a class="hash-link" href="#call" title="Direct link to heading">‚Äã</a></h3><p><code>CALL(funcName, arg1, arg2, ... argN) ‚Üí retVal</code></p><p>Dynamically call the function <em>funcName</em> with the arguments specified. Arguments are given as multiple parameters and passed as separate parameters to the called function.</p><p>Both built-in and user-defined functions can be called.</p><ul><li><strong>funcName</strong> (string): a function name</li><li><strong>args</strong> (any, <em>repeatable</em>): an arbitrary number of elements as
multiple arguments, can be omitted</li><li>returns <strong>retVal</strong> (any): the return value of the called function</li></ul><div class="codeBlockContainer_I0IT language-js theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-js codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token constant" style="color:#36acaa">CALL</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;SUBSTRING&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;this is a test&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// &quot;this&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/c8ql/functions/search"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Search Functions</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/c8ql/functions/type-cast"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Type check and cast functions</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#control-flow-functions" class="table-of-contents__link toc-highlight">Control flow functions</a><ul><li><a href="#not_null" class="table-of-contents__link toc-highlight">NOT_NULL()</a></li><li><a href="#first_list" class="table-of-contents__link toc-highlight">FIRST_LIST()</a></li><li><a href="#first_document" class="table-of-contents__link toc-highlight">FIRST_DOCUMENT()</a></li><li><a href="#ternary-operator" class="table-of-contents__link toc-highlight">Ternary operator</a></li></ul></li><li><a href="#database-functions" class="table-of-contents__link toc-highlight">Database functions</a><ul><li><a href="#collection_count" class="table-of-contents__link toc-highlight">COLLECTION_COUNT()</a></li><li><a href="#collections" class="table-of-contents__link toc-highlight">COLLECTIONS()</a></li><li><a href="#count" class="table-of-contents__link toc-highlight">COUNT()</a></li><li><a href="#current_user" class="table-of-contents__link toc-highlight">CURRENT_USER()</a></li><li><a href="#current_user_attribute" class="table-of-contents__link toc-highlight">CURRENT_USER_ATTRIBUTE()</a></li><li><a href="#current_apikey_attribute" class="table-of-contents__link toc-highlight">CURRENT_APIKEY_ATTRIBUTE()</a></li><li><a href="#decode_rev" class="table-of-contents__link toc-highlight">DECODE_REV()</a></li><li><a href="#document" class="table-of-contents__link toc-highlight">DOCUMENT()</a></li><li><a href="#length" class="table-of-contents__link toc-highlight">LENGTH()</a></li></ul></li><li><a href="#hash-functions" class="table-of-contents__link toc-highlight">Hash functions</a><ul><li><a href="#hash" class="table-of-contents__link toc-highlight">HASH()</a></li><li><a href="#string-based-hashing" class="table-of-contents__link toc-highlight">String-based hashing</a></li></ul></li><li><a href="#function-calling" class="table-of-contents__link toc-highlight">Function calling</a><ul><li><a href="#apply" class="table-of-contents__link toc-highlight">APPLY()</a></li><li><a href="#assert--warn" class="table-of-contents__link toc-highlight">ASSERT() / WARN()</a></li><li><a href="#call" class="table-of-contents__link toc-highlight">CALL()</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/quickstart">Quick Start</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/macrometa" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/macrometa" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/macrometacorp/documentation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2022 Macrometa</div></div></div></footer></div>
<script src="/assets/js/runtime~main.46a3291a.js"></script>
<script src="/assets/js/main.c6f67e6c.js"></script>
</body>
</html>